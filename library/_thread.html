<!DOCTYPE html>

<html lang="zh-TW" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>_thread --- 低階執行緒 API &#8212; Python 3.12.4 說明文件</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=41b4f12d" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=b20cc3f5" />
    
    <script src="../_static/documentation_options.js?v=6bff4b4f"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=f1e884e3"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 3.12.4 說明文件 中搜尋"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="關於這些文件" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="copyright" title="版權" href="../copyright.html" />
    <link rel="next" title="Networking and Interprocess Communication" href="ipc.html" />
    <link rel="prev" title="contextvars --- 情境變數" href="contextvars.html" />
    
    <link rel="canonical" href="https://docs.python.org/3/library/_thread.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo"/>
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="快速搜尋" aria-label="快速搜尋" type="search" name="q" />
                <input type="submit" value="前往"/>
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h4>上個主題</h4>
    <p class="topless"><a href="contextvars.html"
                          title="上一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">contextvars</span></code> --- 情境變數</a></p>
  </div>
  <div>
    <h4>下個主題</h4>
    <p class="topless"><a href="ipc.html"
                          title="下一章">Networking and Interprocess Communication</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>此頁面</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">回報錯誤</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/_thread.rst"
            rel="nofollow">顯示原始碼
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="總索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模組索引"
             >模組</a> |</li>
        <li class="right" >
          <a href="ipc.html" title="Networking and Interprocess Communication"
             accesskey="N">下一頁</a> |</li>
        <li class="right" >
          <a href="contextvars.html" title="contextvars --- 情境變數"
             accesskey="P">上一頁</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.4 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準函式庫 (Standard Library)</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="concurrency.html" accesskey="U">並行執行 (Concurrent Execution)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">_thread</span></code> --- 低階執行緒 API</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜尋" aria-label="快速搜尋" type="search" name="q" id="search-box" />
          <input type="submit" value="前往" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-_thread">
<span id="thread-low-level-threading-api"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">_thread</span></code> --- 低階執行緒 API<a class="headerlink" href="#module-_thread" title="連結到這個標頭">¶</a></h1>
<hr class="docutils" id="index-0" />
<p>這個模組提供了與多個執行緒（也稱為:dfn:<cite>輕量級行程</cite> 或 :dfn: <cite>任務</cite>）一起工作的低階原始物件 --- 多個控制執行緒分享其全域資料空間。為了處理同步問題，也提供了簡單的鎖 (lock) 機制（也稱為:dfn:<cite>互斥鎖</cite> 或 <em class="dfn">二進位號誌</em>）。 <a class="reference internal" href="threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a> 模組提供了一個建立在這個模組之上的更易於使用和高階的執行緒 API。</p>
<div class="versionchanged" id="index-1">
<p><span class="versionmodified changed">在 3.7 版的變更: </span>這個模組之前是可選擇性的，但現在已經是可用的。</p>
</div>
<p>這個模組定義了以下的常數和函式：</p>
<dl class="py exception">
<dt class="sig sig-object py" id="thread.error">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">error</span></span><a class="headerlink" href="#thread.error" title="連結到這個定義">¶</a></dt>
<dd><p>在執行緒相關的錯誤發生時引發。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.3 版的變更: </span>現在是內建例外 <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> 的別名。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="thread.LockType">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">LockType</span></span><a class="headerlink" href="#thread.LockType" title="連結到這個定義">¶</a></dt>
<dd><p>這是鎖物件的型別。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="thread.start_new_thread">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">start_new_thread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.start_new_thread" title="連結到這個定義">¶</a></dt>
<dd><p>開始一個新的執行緒並回傳其識別字 (identifier) 。該執行緒執行帶有引數列表 <em>args*（必須是一個 tuple（元組））的函式 *function</em>。可選的 <em>kwargs</em> 引數指定一個關鍵字引數的字典。</p>
<p>當函式回傳時，執行緒會靜默退出。</p>
<p>當函式因未處理的例外終止時，將呼叫 <a class="reference internal" href="sys.html#sys.unraisablehook" title="sys.unraisablehook"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.unraisablehook()</span></code></a> 來處理該例外。鉤子引數的 <em>object</em> 屬性是 <em>function</em>。預設情況下，會列印堆疊跟蹤，然後執行緒退出（但其他執行緒會繼續運行）。</p>
<p>當函式引發 <a class="reference internal" href="exceptions.html#SystemExit" title="SystemExit"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemExit</span></code></a> 例外時，它會被靜默忽略。</p>
<p class="audit-hook">引發一個 <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">稽核事件</span></a> <code class="docutils literal notranslate"><span class="pre">_thread.start_new_thread</span></code>，帶有引數 <code class="docutils literal notranslate"><span class="pre">function</span></code>、<code class="docutils literal notranslate"><span class="pre">args</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.8 版的變更: </span>現在使用 <a class="reference internal" href="sys.html#sys.unraisablehook" title="sys.unraisablehook"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.unraisablehook()</span></code></a> 來處理未處理的例外。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="thread.interrupt_main">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">interrupt_main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">signal.SIGINT</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#thread.interrupt_main" title="連結到這個定義">¶</a></dt>
<dd><p>模擬一個訊號到達主執行緒的效果。執行緒可以使用此函式來中斷主執行緒，但無法保證中斷會立即發生。</p>
<p>如果提供了 <em>signum</em>，則模擬指定的訊號編號。如果未提供 <em>signum</em>，則模擬 <a class="reference internal" href="signal.html#signal.SIGINT" title="signal.SIGINT"><code class="xref py py-const docutils literal notranslate"><span class="pre">signal.SIGINT</span></code></a> 訊號。</p>
<p>如果給定的訊號在 Python 中未被處理（即設置為 <a class="reference internal" href="signal.html#signal.SIG_DFL" title="signal.SIG_DFL"><code class="xref py py-const docutils literal notranslate"><span class="pre">signal.SIG_DFL</span></code></a> 或 <a class="reference internal" href="signal.html#signal.SIG_IGN" title="signal.SIG_IGN"><code class="xref py py-const docutils literal notranslate"><span class="pre">signal.SIG_IGN</span></code></a>），此函式不做任何操作。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.10 版的變更: </span>新增了 <em>signum</em> 引數以自定義訊號編號。</p>
</div>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p>這並不會發出對應的訊號，而是安排呼叫相應的處理器（如果存在的話）。如果您想真正發出訊號，請使用 <a class="reference internal" href="signal.html#signal.raise_signal" title="signal.raise_signal"><code class="xref py py-func docutils literal notranslate"><span class="pre">signal.raise_signal()</span></code></a>。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="thread.exit">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">exit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.exit" title="連結到這個定義">¶</a></dt>
<dd><p>引發 <a class="reference internal" href="exceptions.html#SystemExit" title="SystemExit"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemExit</span></code></a> 例外。當未捕獲時，將導致執行緒靜默退出。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="thread.allocate_lock">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">allocate_lock</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.allocate_lock" title="連結到這個定義">¶</a></dt>
<dd><p>回傳一個新的鎖物件。鎖物件的方法如下所述。初始狀況下鎖是解鎖狀態。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="thread.get_ident">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">get_ident</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.get_ident" title="連結到這個定義">¶</a></dt>
<dd><p>回傳當前執行緒的「執行緒識別字」。這是一個非零的整數。它的值沒有直接的含義；它被用作一個 magic cookie，例如用於索引特定於執行緒的資料的字典。當執行緒退出並建立另一個執行緒時，執行緒識別字可能會被重複使用。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="thread.get_native_id">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">get_native_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.get_native_id" title="連結到這個定義">¶</a></dt>
<dd><p>回傳由核心 (kernel) 分配的當前執行緒的原生整數執行緒 ID。這是一個非負整數。它的值可用於在整個系統中唯一標識此特定執行緒（直到執行緒終止後，該值可能被操作系統重新使用）。</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">適用</span></a>：Windows、FreeBSD、Linux、macOS、OpenBSD、NetBSD、AIX、DragonFlyBSD。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.8 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="thread.stack_size">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">stack_size</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.stack_size" title="連結到這個定義">¶</a></dt>
<dd><p>回傳在建立新執行緒時使用的執行緒堆疊大小。可選的 <em>size</em> 引數指定了隨後建立的執行緒要使用的堆疊大小，必須是 0（使用平台或配置的預設值）或至少 32,768（32 KiB）的正整數值。如果未指定 <em>size</em>，則使用 0。如果不支持更改執行緒堆疊大小，則會引發 <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> 錯誤。如果指定的堆疊大小無效，則會引發 <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> 錯誤，並且堆疊大小不會被修改。目前，32 KiB 是保證解譯器本身具有足夠堆疊空間所支持的最小堆疊大小值。請注意，某些平台對於堆疊大小的值可能有特定的限制，例如要求最小堆疊大小 &gt; 32 KiB，或要求按系統記憶體頁面大小的倍數進行分配。應參考平台文檔以獲取更多訊息（4 KiB 頁面是比較普遍的；在缺乏更具體訊息的情況下，建議使用 4096 的倍數作為堆疊大小）。</p>
<div class="availability docutils container">
<p><a class="reference internal" href="intro.html#availability"><span class="std std-ref">適用</span></a>：Windows, pthreads。</p>
<p>Unix 平台上支援 POSIX 執行緒。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="thread.TIMEOUT_MAX">
<span class="sig-prename descclassname"><span class="pre">_thread.</span></span><span class="sig-name descname"><span class="pre">TIMEOUT_MAX</span></span><a class="headerlink" href="#thread.TIMEOUT_MAX" title="連結到這個定義">¶</a></dt>
<dd><p><a class="reference internal" href="threading.html#threading.Lock.acquire" title="threading.Lock.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Lock.acquire</span></code></a> 的 <em>timeout</em> 參數所允許的最大值。指定超過此值的 timeout 將引發 <a class="reference internal" href="exceptions.html#OverflowError" title="OverflowError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OverflowError</span></code></a> 錯誤。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.2 版被加入.</span></p>
</div>
</dd></dl>

<p>鎖物件具有以下方法：</p>
<dl class="py method">
<dt class="sig sig-object py" id="thread.lock.acquire">
<span class="sig-prename descclassname"><span class="pre">lock.</span></span><span class="sig-name descname"><span class="pre">acquire</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blocking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#thread.lock.acquire" title="連結到這個定義">¶</a></dt>
<dd><p>沒有任何可選引數時，此方法無條件地獲取鎖，必要時會等待直到被另一個執行緒釋放（一次只能有一個執行緒獲取鎖 --- 這正是鎖存在的原因）。</p>
<p>如果存在 <em>blocking</em> 引數，則根據其值執行操作：如果為 False，只有在可以立即獲取鎖而無需等待的情況下才獲取鎖，而如果為 True，則像上面一樣無條件地獲取鎖。</p>
<p>如果存在浮點數的 <em>timeout</em> 引數且為正值，則它指定了在回傳之前的最大等待時間（以秒為單位）。如果 <em>timeout</em> 引數為負值，則表示等待時間會無限期地等待。如果 <em>blocking</em> 為 False，則你無法指定 <em>timeout</em>。</p>
<p>如果成功獲取鎖，回傳值為 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否則為 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.2 版的變更: </span>新增的 <em>timeout</em> 參數。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.2 版的變更: </span>現在獲取鎖的操作可以被 POSIX 訊號中斷。</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="thread.lock.release">
<span class="sig-prename descclassname"><span class="pre">lock.</span></span><span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.lock.release" title="連結到這個定義">¶</a></dt>
<dd><p>釋放鎖。鎖必須先前被獲取，但不一定是由同一個執行緒獲取的。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="thread.lock.locked">
<span class="sig-prename descclassname"><span class="pre">lock.</span></span><span class="sig-name descname"><span class="pre">locked</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#thread.lock.locked" title="連結到這個定義">¶</a></dt>
<dd><p>回傳鎖的狀態：如果鎖已被某個執行緒獲取，則回傳 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否則回傳 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
</dd></dl>

<p>除了這些方法之外，鎖物件還可以透過 <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> 語句來使用，例如：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">_thread</span>

<span class="n">a_lock</span> <span class="o">=</span> <span class="n">_thread</span><span class="o">.</span><span class="n">allocate_lock</span><span class="p">()</span>

<span class="k">with</span> <span class="n">a_lock</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a_lock is locked while this executes&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>注意事項：</strong></p>
<ul class="simple" id="index-2">
<li><p>執行緒與中斷的互動可能會有奇怪的情況：任何一個執行緒都有可能收到 <a class="reference internal" href="exceptions.html#KeyboardInterrupt" title="KeyboardInterrupt"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a> 例外。（當 <a class="reference internal" href="signal.html#module-signal" title="signal: Set handlers for asynchronous events."><code class="xref py py-mod docutils literal notranslate"><span class="pre">signal</span></code></a> 模組可用時，中斷總是會進入主執行緒。）</p></li>
<li><p>呼叫 <a class="reference internal" href="sys.html#sys.exit" title="sys.exit"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exit()</span></code></a> 函數或引發 <a class="reference internal" href="exceptions.html#SystemExit" title="SystemExit"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemExit</span></code></a> 例外等同於呼叫 <a class="reference internal" href="#thread.exit" title="_thread.exit"><code class="xref py py-func docutils literal notranslate"><span class="pre">_thread.exit()</span></code></a> 函式。</p></li>
<li><p>無法在鎖的 <a class="reference internal" href="threading.html#threading.Lock.acquire" title="threading.Lock.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> 方法上中斷執行， <a class="reference internal" href="exceptions.html#KeyboardInterrupt" title="KeyboardInterrupt"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a> 例外會在鎖被獲取後發生。</p></li>
<li><p>當主執行緒退出時，其他執行緒是否保留是由系統決定的。在大多數系統上，它們將被終止，而不會執行 <a class="reference internal" href="../reference/compound_stmts.html#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> ... <a class="reference internal" href="../reference/compound_stmts.html#finally"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> 子句或執行物件的解構函式。</p></li>
<li><p>當主執行緒退出時，它不會執行任何通常的清理操作（除非有 <a class="reference internal" href="../reference/compound_stmts.html#try"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">try</span></code></a> ... <a class="reference internal" href="../reference/compound_stmts.html#finally"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> 子句），並且標準 I/O 檔案不會被刷新。</p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>上個主題</h4>
    <p class="topless"><a href="contextvars.html"
                          title="上一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">contextvars</span></code> --- 情境變數</a></p>
  </div>
  <div>
    <h4>下個主題</h4>
    <p class="topless"><a href="ipc.html"
                          title="下一章">Networking and Interprocess Communication</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>此頁面</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">回報錯誤</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/_thread.rst"
            rel="nofollow">顯示原始碼
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="收合側邊欄">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="總索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模組索引"
             >模組</a> |</li>
        <li class="right" >
          <a href="ipc.html" title="Networking and Interprocess Communication"
             >下一頁</a> |</li>
        <li class="right" >
          <a href="contextvars.html" title="contextvars --- 情境變數"
             >上一頁</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.4 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準函式庫 (Standard Library)</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="concurrency.html" >並行執行 (Concurrent Execution)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">_thread</span></code> --- 低階執行緒 API</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜尋" aria-label="快速搜尋" type="search" name="q" id="search-box" />
          <input type="submit" value="前往" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; 
      <a href="../copyright.html">
    
    版權
    
      </a>
     2001-2024, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    
      See <a href="/license.html">History and License</a> for more information.<br />
    
    
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />
      最後更新於 Jul 20, 2024 (06:27 UTC)。
    
      <a href="/bugs.html">Found a bug</a>?
    
    <br />

    使用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.6 建立。
    </div>

  </body>
</html>