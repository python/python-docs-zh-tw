<!DOCTYPE html>

<html lang="zh-TW" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ast --- 抽象語法樹 (Abstract Syntax Trees) &#8212; Python 3.12.5 說明文件</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=41b4f12d" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=b20cc3f5" />
    
    <script src="../_static/documentation_options.js?v=79397755"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=f1e884e3"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 3.12.5 說明文件 中搜尋"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="關於這些文件" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="copyright" title="版權" href="../copyright.html" />
    <link rel="next" title="symtable --- 存取編譯器的符號表" href="symtable.html" />
    <link rel="prev" title="Python 語言服務" href="language.html" />
    
    <link rel="canonical" href="https://docs.python.org/3/library/ast.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo"/>
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="快速搜尋" aria-label="快速搜尋" type="search" name="q" />
                <input type="submit" value="前往"/>
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">目錄</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象語法樹 (Abstract Syntax Trees)</a><ul>
<li><a class="reference internal" href="#abstract-grammar">抽象文法 (Abstract Grammar)</a></li>
<li><a class="reference internal" href="#node-classes">節點 (Node) 類別</a><ul>
<li><a class="reference internal" href="#root-nodes">根節點</a></li>
<li><a class="reference internal" href="#literals">文本 (Literals)</a></li>
<li><a class="reference internal" href="#variables">變數</a></li>
<li><a class="reference internal" href="#expressions">運算式</a><ul>
<li><a class="reference internal" href="#subscripting">下標 (Subscripting)</a></li>
<li><a class="reference internal" href="#comprehensions">綜合運算式 (comprehensions)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#statements">陳述式</a><ul>
<li><a class="reference internal" href="#imports">引入 (imports)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#control-flow">流程控制</a></li>
<li><a class="reference internal" href="#pattern-matching">模式匹配 (pattern matching)</a></li>
<li><a class="reference internal" href="#type-parameters">型別參數 (type parameters)</a></li>
<li><a class="reference internal" href="#function-and-class-definitions">函式和類別定義</a></li>
<li><a class="reference internal" href="#async-and-await">async 和 await</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ast-helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> 輔助程式</a></li>
<li><a class="reference internal" href="#compiler-flags">編譯器旗標</a></li>
<li><a class="reference internal" href="#command-line-usage">命令列用法</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上個主題</h4>
    <p class="topless"><a href="language.html"
                          title="上一章">Python 語言服務</a></p>
  </div>
  <div>
    <h4>下個主題</h4>
    <p class="topless"><a href="symtable.html"
                          title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">symtable</span></code> --- 存取編譯器的符號表</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>此頁面</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">回報錯誤</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/ast.rst"
            rel="nofollow">顯示原始碼
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="總索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模組索引"
             >模組</a> |</li>
        <li class="right" >
          <a href="symtable.html" title="symtable --- 存取編譯器的符號表"
             accesskey="N">下一頁</a> |</li>
        <li class="right" >
          <a href="language.html" title="Python 語言服務"
             accesskey="P">上一頁</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準函式庫 (Standard Library)</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="language.html" accesskey="U">Python 語言服務</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象語法樹 (Abstract Syntax Trees)</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜尋" aria-label="快速搜尋" type="search" name="q" id="search-box" />
          <input type="submit" value="前往" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-ast">
<span id="ast-abstract-syntax-trees"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象語法樹 (Abstract Syntax Trees)<a class="headerlink" href="#module-ast" title="連結到這個標頭">¶</a></h1>
<p><strong>原始碼：</strong><a class="extlink-source reference external" href="https://github.com/python/cpython/tree/3.12/Lib/ast.py">Lib/ast.py</a></p>
<hr class="docutils" />
<p><a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 模組可以幫助 Python 應用程式處理 Python 抽象語法文法 (abstract syntax grammar) 樹狀資料結構。抽象語法本身可能會隨著每個 Python 版本發布而改變；此模組有助於以程式化的方式來得知當前文法的面貌。</p>
<p>要生成抽象語法樹，可以透過將 <a class="reference internal" href="#ast.PyCF_ONLY_AST" title="ast.PyCF_ONLY_AST"><code class="xref py py-data docutils literal notranslate"><span class="pre">ast.PyCF_ONLY_AST</span></code></a> 作為旗標傳遞給內建函式 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 或使用此模組所提供的 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a> 輔助函式。結果將會是一個物件的樹，其類別都繼承自 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a>。可以使用內建的 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 函式將抽象語法樹編譯成 Python 程式碼物件。</p>
<section id="abstract-grammar">
<span id="id1"></span><h2>抽象文法 (Abstract Grammar)<a class="headerlink" href="#abstract-grammar" title="連結到這個標頭">¶</a></h2>
<p>抽象文法目前定義如下：</p>
<div class="highlight-asdl notranslate"><div class="highlight"><pre><span></span><span class="c c-Singleline">-- ASDL&#39;s 4 builtin types are:</span>
<span class="c c-Singleline">-- identifier, int, string, constant</span>

<span class="k">module</span> <span class="nt">Python</span>
<span class="p">{</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="nc">Module</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">type_ignore</span><span class="o">* </span><span class="n">type_ignores</span><span class="p">)</span>
        <span class="o">|</span> <span class="nc">Interactive</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span><span class="p">)</span>
        <span class="o">|</span> <span class="nc">Expression</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">body</span><span class="p">)</span>
        <span class="o">|</span> <span class="nc">FunctionType</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">argtypes</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">returns</span><span class="p">)</span>

    <span class="n">stmt</span> <span class="o">=</span> <span class="nc">FunctionDef</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>, <span class="bp">arguments</span><span class="o"> </span><span class="n">args</span>,
                       <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">decorator_list</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">returns</span>,
                       <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span>, <span class="bp">type_param</span><span class="o">* </span><span class="n">type_params</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AsyncFunctionDef</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>, <span class="bp">arguments</span><span class="o"> </span><span class="n">args</span>,
                             <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">decorator_list</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">returns</span>,
                             <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span>, <span class="bp">type_param</span><span class="o">* </span><span class="n">type_params</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">ClassDef</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>,
             <span class="bp">expr</span><span class="o">* </span><span class="n">bases</span>,
             <span class="bp">keyword</span><span class="o">* </span><span class="n">keywords</span>,
             <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>,
             <span class="bp">expr</span><span class="o">* </span><span class="n">decorator_list</span>,
             <span class="bp">type_param</span><span class="o">* </span><span class="n">type_params</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Return</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">value</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Delete</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">targets</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Assign</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">targets</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">TypeAlias</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">name</span>, <span class="bp">type_param</span><span class="o">* </span><span class="n">type_params</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AugAssign</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">operator</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
          <span class="c c-Singleline">-- &#39;simple&#39; indicates that we annotate simple name without parens</span>
          <span class="o">|</span> <span class="nc">AnnAssign</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">annotation</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">value</span>, <span class="bp">int</span><span class="o"> </span><span class="n">simple</span><span class="p">)</span>

          <span class="c c-Singleline">-- use &#39;orelse&#39; because else is a keyword in target languages</span>
          <span class="o">|</span> <span class="nc">For</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">iter</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AsyncFor</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">iter</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">While</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">If</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">With</span><span class="p">(</span><span class="bp">withitem</span><span class="o">* </span><span class="n">items</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">AsyncWith</span><span class="p">(</span><span class="bp">withitem</span><span class="o">* </span><span class="n">items</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Match</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">subject</span>, <span class="bp">match_case</span><span class="o">* </span><span class="n">cases</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Raise</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">exc</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">cause</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Try</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">excepthandler</span><span class="o">* </span><span class="n">handlers</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">finalbody</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">TryStar</span><span class="p">(</span><span class="bp">stmt</span><span class="o">* </span><span class="n">body</span>, <span class="bp">excepthandler</span><span class="o">* </span><span class="n">handlers</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">orelse</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">finalbody</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Assert</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">msg</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Import</span><span class="p">(</span><span class="bp">alias</span><span class="o">* </span><span class="n">names</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">ImportFrom</span><span class="p">(</span><span class="bp">identifier</span><span class="o">? </span><span class="n">module</span>, <span class="bp">alias</span><span class="o">* </span><span class="n">names</span>, <span class="bp">int</span><span class="o">? </span><span class="n">level</span><span class="p">)</span>

          <span class="o">|</span> <span class="nc">Global</span><span class="p">(</span><span class="bp">identifier</span><span class="o">* </span><span class="n">names</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Nonlocal</span><span class="p">(</span><span class="bp">identifier</span><span class="o">* </span><span class="n">names</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Expr</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
          <span class="o">|</span> <span class="nc">Pass</span> <span class="o">|</span> <span class="nc">Break</span> <span class="o">|</span> <span class="nc">Continue</span>

          <span class="c c-Singleline">-- col_offset is the byte offset in the utf8 string the parser uses</span>
          <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

          <span class="c c-Singleline">-- BoolOp() can use left &amp; right?</span>
    <span class="n">expr</span> <span class="o">=</span> <span class="nc">BoolOp</span><span class="p">(</span><span class="bp">boolop</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">values</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">NamedExpr</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">BinOp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">left</span>, <span class="bp">operator</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">right</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">UnaryOp</span><span class="p">(</span><span class="bp">unaryop</span><span class="o"> </span><span class="n">op</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">operand</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Lambda</span><span class="p">(</span><span class="bp">arguments</span><span class="o"> </span><span class="n">args</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">body</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">IfExp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">test</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">body</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">orelse</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Dict</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">keys</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">values</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Set</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">elts</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">ListComp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">elt</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">SetComp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">elt</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">DictComp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">key</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">GeneratorExp</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">elt</span>, <span class="bp">comprehension</span><span class="o">* </span><span class="n">generators</span><span class="p">)</span>
         <span class="c c-Singleline">-- the grammar constrains where yield expressions can occur</span>
         <span class="o">|</span> <span class="nc">Await</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Yield</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">value</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">YieldFrom</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
         <span class="c c-Singleline">-- need sequences for compare to distinguish between</span>
         <span class="c c-Singleline">-- x &lt; 4 &lt; 3 and (x &lt; 4) &lt; 3</span>
         <span class="o">|</span> <span class="nc">Compare</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">left</span>, <span class="bp">cmpop</span><span class="o">* </span><span class="n">ops</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">comparators</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Call</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">func</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">args</span>, <span class="bp">keyword</span><span class="o">* </span><span class="n">keywords</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">FormattedValue</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">int</span><span class="o"> </span><span class="n">conversion</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">format_spec</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">JoinedStr</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">values</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Constant</span><span class="p">(</span><span class="bp">constant</span><span class="o"> </span><span class="n">value</span>, <span class="bp">string</span><span class="o">? </span><span class="n">kind</span><span class="p">)</span>

         <span class="c c-Singleline">-- the following expression can appear in assignment context</span>
         <span class="o">|</span> <span class="nc">Attribute</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">identifier</span><span class="o"> </span><span class="n">attr</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Subscript</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">slice</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Starred</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Name</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">id</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">List</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">elts</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>
         <span class="o">|</span> <span class="nc">Tuple</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">elts</span>, <span class="bp">expr_context</span><span class="o"> </span><span class="n">ctx</span><span class="p">)</span>

         <span class="c c-Singleline">-- can appear only in Subscript</span>
         <span class="o">|</span> <span class="nc">Slice</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">lower</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">upper</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">step</span><span class="p">)</span>

          <span class="c c-Singleline">-- col_offset is the byte offset in the utf8 string the parser uses</span>
          <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">expr_context</span> <span class="o">=</span> <span class="nc">Load</span> <span class="o">|</span> <span class="nc">Store</span> <span class="o">|</span> <span class="nc">Del</span>

    <span class="n">boolop</span> <span class="o">=</span> <span class="nc">And</span> <span class="o">|</span> <span class="nc">Or</span>

    <span class="n">operator</span> <span class="o">=</span> <span class="nc">Add</span> <span class="o">|</span> <span class="nc">Sub</span> <span class="o">|</span> <span class="nc">Mult</span> <span class="o">|</span> <span class="nc">MatMult</span> <span class="o">|</span> <span class="nc">Div</span> <span class="o">|</span> <span class="nc">Mod</span> <span class="o">|</span> <span class="nc">Pow</span> <span class="o">|</span> <span class="nc">LShift</span>
                 <span class="o">|</span> <span class="nc">RShift</span> <span class="o">|</span> <span class="nc">BitOr</span> <span class="o">|</span> <span class="nc">BitXor</span> <span class="o">|</span> <span class="nc">BitAnd</span> <span class="o">|</span> <span class="nc">FloorDiv</span>

    <span class="n">unaryop</span> <span class="o">=</span> <span class="nc">Invert</span> <span class="o">|</span> <span class="nc">Not</span> <span class="o">|</span> <span class="nc">UAdd</span> <span class="o">|</span> <span class="nc">USub</span>

    <span class="n">cmpop</span> <span class="o">=</span> <span class="nc">Eq</span> <span class="o">|</span> <span class="nc">NotEq</span> <span class="o">|</span> <span class="nc">Lt</span> <span class="o">|</span> <span class="nc">LtE</span> <span class="o">|</span> <span class="nc">Gt</span> <span class="o">|</span> <span class="nc">GtE</span> <span class="o">|</span> <span class="nc">Is</span> <span class="o">|</span> <span class="nc">IsNot</span> <span class="o">|</span> <span class="nc">In</span> <span class="o">|</span> <span class="nc">NotIn</span>

    <span class="n">comprehension</span> <span class="o">=</span> <span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">target</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">iter</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">ifs</span>, <span class="bp">int</span><span class="o"> </span><span class="n">is_async</span><span class="p">)</span>

    <span class="n">excepthandler</span> <span class="o">=</span> <span class="nc">ExceptHandler</span><span class="p">(</span><span class="bp">expr</span><span class="o">? </span><span class="n">type</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">name</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span><span class="p">)</span>
                    <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">arguments</span> <span class="o">=</span> <span class="p">(</span><span class="bp">arg</span><span class="o">* </span><span class="n">posonlyargs</span>, <span class="bp">arg</span><span class="o">* </span><span class="n">args</span>, <span class="bp">arg</span><span class="o">? </span><span class="n">vararg</span>, <span class="bp">arg</span><span class="o">* </span><span class="n">kwonlyargs</span>,
                 <span class="bp">expr</span><span class="o">* </span><span class="n">kw_defaults</span>, <span class="bp">arg</span><span class="o">? </span><span class="n">kwarg</span>, <span class="bp">expr</span><span class="o">* </span><span class="n">defaults</span><span class="p">)</span>

    <span class="n">arg</span> <span class="o">=</span> <span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">arg</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">annotation</span>, <span class="bp">string</span><span class="o">? </span><span class="n">type_comment</span><span class="p">)</span>
           <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="c c-Singleline">-- keyword arguments supplied to call (NULL identifier for **kwargs)</span>
    <span class="n">keyword</span> <span class="o">=</span> <span class="p">(</span><span class="bp">identifier</span><span class="o">? </span><span class="n">arg</span>, <span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
               <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="c c-Singleline">-- import name with optional &#39;as&#39; alias.</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">asname</span><span class="p">)</span>
             <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o">? </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">withitem</span> <span class="o">=</span> <span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">context_expr</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">optional_vars</span><span class="p">)</span>

    <span class="n">match_case</span> <span class="o">=</span> <span class="p">(</span><span class="bp">pattern</span><span class="o"> </span><span class="n">pattern</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">guard</span>, <span class="bp">stmt</span><span class="o">* </span><span class="n">body</span><span class="p">)</span>

    <span class="n">pattern</span> <span class="o">=</span> <span class="nc">MatchValue</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchSingleton</span><span class="p">(</span><span class="bp">constant</span><span class="o"> </span><span class="n">value</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchSequence</span><span class="p">(</span><span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchMapping</span><span class="p">(</span><span class="bp">expr</span><span class="o">* </span><span class="n">keys</span>, <span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">rest</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchClass</span><span class="p">(</span><span class="bp">expr</span><span class="o"> </span><span class="n">cls</span>, <span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span>, <span class="bp">identifier</span><span class="o">* </span><span class="n">kwd_attrs</span>, <span class="bp">pattern</span><span class="o">* </span><span class="n">kwd_patterns</span><span class="p">)</span>

            <span class="o">|</span> <span class="nc">MatchStar</span><span class="p">(</span><span class="bp">identifier</span><span class="o">? </span><span class="n">name</span><span class="p">)</span>
            <span class="c c-Singleline">-- The optional &quot;rest&quot; MatchMapping parameter handles capturing extra mapping keys</span>

            <span class="o">|</span> <span class="nc">MatchAs</span><span class="p">(</span><span class="bp">pattern</span><span class="o">? </span><span class="n">pattern</span>, <span class="bp">identifier</span><span class="o">? </span><span class="n">name</span><span class="p">)</span>
            <span class="o">|</span> <span class="nc">MatchOr</span><span class="p">(</span><span class="bp">pattern</span><span class="o">* </span><span class="n">patterns</span><span class="p">)</span>

             <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o"> </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">end_col_offset</span><span class="p">)</span>

    <span class="n">type_ignore</span> <span class="o">=</span> <span class="nc">TypeIgnore</span><span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">string</span><span class="o"> </span><span class="n">tag</span><span class="p">)</span>

    <span class="n">type_param</span> <span class="o">=</span> <span class="nc">TypeVar</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span>, <span class="bp">expr</span><span class="o">? </span><span class="n">bound</span><span class="p">)</span>
               <span class="o">|</span> <span class="nc">ParamSpec</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span><span class="p">)</span>
               <span class="o">|</span> <span class="nc">TypeVarTuple</span><span class="p">(</span><span class="bp">identifier</span><span class="o"> </span><span class="n">name</span><span class="p">)</span>
               <span class="nb">attributes</span> <span class="p">(</span><span class="bp">int</span><span class="o"> </span><span class="n">lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">col_offset</span>, <span class="bp">int</span><span class="o"> </span><span class="n">end_lineno</span>, <span class="bp">int</span><span class="o"> </span><span class="n">end_col_offset</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="node-classes">
<h2>節點 (Node) 類別<a class="headerlink" href="#node-classes" title="連結到這個標頭">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ast.AST">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AST</span></span><a class="headerlink" href="#ast.AST" title="連結到這個定義">¶</a></dt>
<dd><p>這是所有 AST 節點類別的基礎。實際的節點類別是衍生自 <code class="file docutils literal notranslate"><span class="pre">Parser/Python.asdl</span></code> 檔案，該檔案在<a class="reference internal" href="#abstract-grammar"><span class="std std-ref">上方</span></a> 重現。它們被定義於 <code class="xref py py-mod docutils literal notranslate"><span class="pre">_ast</span></code> 的 C 模組中，並於 <a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 中重新匯出。</p>
<p>抽象文法中為每個左側符號定義了一個類別（例如 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.stmt</span></code> 或 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code>）。此外，也為每個右側的建構函式 (constructor) 定義了一個類別；這些類別繼承自左側樹的類別。例如，<a class="reference internal" href="#ast.BinOp" title="ast.BinOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.BinOp</span></code></a> 繼承自 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code>。對於具有替代方案（即為「和 (sums)」）的生產規則，左側類別是抽象的：僅有特定建構函式節點的實例會被建立。</p>
<dl class="py attribute" id="index-1">
<span id="index-0"></span><dt class="sig sig-object py" id="ast.AST._fields">
<span class="sig-name descname"><span class="pre">_fields</span></span><a class="headerlink" href="#ast.AST._fields" title="連結到這個定義">¶</a></dt>
<dd><p>每個具體類別都有一個屬性 <a class="reference internal" href="#ast.AST._fields" title="ast.AST._fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_fields</span></code></a>，它會給出所有子節點的名稱。</p>
<p>具體類別的每個實例對於每個子節點都有一個屬性，其型別如文法中所定義。例如，<a class="reference internal" href="#ast.BinOp" title="ast.BinOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.BinOp</span></code></a> 實例具有型別為 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code> 的屬性 <code class="xref py py-attr docutils literal notranslate"><span class="pre">left</span></code>。</p>
<p>如果這些屬性在文法中被標記為可選（使用問號），則該值可能為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。如果屬性可以有零個或多個值（用星號標記），則這些值將表示為 Python 串列。使用 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 編譯 AST 時，所有可能的屬性都必須存在並且具有有效值。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ast.AST.lineno">
<span class="sig-name descname"><span class="pre">lineno</span></span><a class="headerlink" href="#ast.AST.lineno" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.AST.col_offset">
<span class="sig-name descname"><span class="pre">col_offset</span></span><a class="headerlink" href="#ast.AST.col_offset" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.AST.end_lineno">
<span class="sig-name descname"><span class="pre">end_lineno</span></span><a class="headerlink" href="#ast.AST.end_lineno" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.AST.end_col_offset">
<span class="sig-name descname"><span class="pre">end_col_offset</span></span><a class="headerlink" href="#ast.AST.end_col_offset" title="連結到這個定義">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.stmt</span></code> 子類別的實例具有 <a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a>、<a class="reference internal" href="#ast.AST.col_offset" title="ast.AST.col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code></a>、<a class="reference internal" href="#ast.AST.end_lineno" title="ast.AST.end_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code></a> 和 <a class="reference internal" href="#ast.AST.end_col_offset" title="ast.AST.end_col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_col_offset</span></code></a> 屬性。<a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a> 和 <a class="reference internal" href="#ast.AST.end_lineno" title="ast.AST.end_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code></a> 是原始文本跨度 (source text span) 的第一個和最後一個列號（1-indexed，因此第一列號是 1）以及 <a class="reference internal" href="#ast.AST.col_offset" title="ast.AST.col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code></a> 和 <a class="reference internal" href="#ast.AST.end_col_offset" title="ast.AST.end_col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_col_offset</span></code></a> 是生成節點的第一個和最後一個標記對應的 UTF-8 位元組偏移量。會記錄 UTF-8 偏移量是因為剖析器 (parser) 內部使用 UTF-8。</p>
<p>請注意，編譯器並不需要結束位置，因此其為可選的。結束偏移量在最後一個符號<em>之後</em>，例如可以使用 <code class="docutils literal notranslate"><span class="pre">source_line[node.col_offset</span> <span class="pre">:</span> <span class="pre">node.end_col_offset]</span></code> 來獲取單列運算式節點 (expression node) 的原始片段。</p>
</dd></dl>

<p><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.T</span></code> 類別的建構函式按以下方式剖析其引數：</p>
<ul class="simple">
<li><p>如果有位置引數，則必須與 <code class="xref py py-attr docutils literal notranslate"><span class="pre">T._fields</span></code> 中的項目一樣多；它們將被賦値為這些名稱的屬性。</p></li>
<li><p>如果有關鍵字引數，它們會將相同名稱的屬性設定為給定值。</p></li>
</ul>
<p>例如，要建立並填充 (populate) <a class="reference internal" href="#ast.UnaryOp" title="ast.UnaryOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.UnaryOp</span></code></a> 節點，你可以使用：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">UnaryOp</span><span class="p">()</span>
<span class="n">node</span><span class="o">.</span><span class="n">op</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">USub</span><span class="p">()</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">Constant</span><span class="p">()</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">node</span><span class="o">.</span><span class="n">operand</span><span class="o">.</span><span class="n">col_offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">node</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">node</span><span class="o">.</span><span class="n">col_offset</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>或更簡潔的：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">UnaryOp</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">USub</span><span class="p">(),</span> <span class="n">ast</span><span class="o">.</span><span class="n">Constant</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">lineno</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
                   <span class="n">lineno</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">在 3.8 版的變更: </span><a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Constant</span></code></a> 類別現在用於所有常數。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.9 版的變更: </span>以它們的值表示簡單索引，擴充切片 (slice) 則以元組 (tuple) 表示。</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">在 3.8 版之後被棄用: </span>舊的類別 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Num</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Str</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Bytes</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.NameConstant</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Ellipsis</span></code> 仍然可用，但它們將在未來的 Python 釋出版本中移除。與此同時，實例化它們將回傳不同類別的實例。</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">在 3.9 版之後被棄用: </span>舊的類別 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Index</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.ExtSlice</span></code> 仍然可用，但它們將在未來的 Python 版本中刪除。同時，實例化它們會回傳不同類別的實例。</p>
</div>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p>這裡顯示的特定節點類別的描述最初是從出色的 <a class="reference external" href="https://greentreesnakes.readthedocs.io/en/latest/">Green Tree Snakes</a> 專案和所有貢獻者那裡改編而來的。</p>
</div>
<section id="root-nodes">
<span id="ast-root-nodes"></span><h3>根節點<a class="headerlink" href="#root-nodes" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Module">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_ignores</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Module" title="連結到這個定義">¶</a></dt>
<dd><p>一個 Python 模組，與<a class="reference internal" href="../reference/toplevel_components.html#file-input"><span class="std std-ref">檔案輸入</span></a> 一樣。由 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 在預設的 <code class="docutils literal notranslate"><span class="pre">&quot;exec&quot;</span></code> <em>mode</em> 下生成的節點型別。</p>
<p><em>body</em> 是模組的<a class="reference internal" href="#ast-statements"><span class="std std-ref">陳述式</span></a> 的一個 <a class="reference internal" href="stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>。</p>
<p><em>type_ignores</em> 是模組的忽略型別註解的 <a class="reference internal" href="stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>；有關更多詳細資訊，請參閱 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x = 1&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;x&#39;, ctx=Store())],</span>
<span class="go">            value=Constant(value=1))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Expression">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Expression" title="連結到這個定義">¶</a></dt>
<dd><p>單個 Python <a class="reference internal" href="../reference/toplevel_components.html#expression-input"><span class="std std-ref">運算式輸入</span></a>。當 <em>mode</em> 是 <code class="docutils literal notranslate"><span class="pre">&quot;eval&quot;</span></code> 時節點型別由 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 生成。</p>
<p><em>body</em> 是單個節點，是<a class="reference internal" href="#ast-expressions"><span class="std std-ref">運算式型別</span></a>的其中之一。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Constant(value=123))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Interactive">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Interactive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Interactive" title="連結到這個定義">¶</a></dt>
<dd><p>單個<a class="reference internal" href="../reference/toplevel_components.html#interactive"><span class="std std-ref">互動式輸入</span></a>，和<a class="reference internal" href="../tutorial/appendix.html#tut-interac"><span class="std std-ref">互動模式</span></a>中所述的相似。當 <em>mode</em> 是 <code class="docutils literal notranslate"><span class="pre">&quot;single&quot;</span></code> 時節點型別由 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 生成。</p>
<p><em>body</em> 是<a class="reference internal" href="#ast-statements"><span class="std std-ref">陳述式節點 (statement nodes)</span></a> 的 <a class="reference internal" href="stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x = 1; y = 2&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Interactive(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;x&#39;, ctx=Store())],</span>
<span class="go">            value=Constant(value=1)),</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;y&#39;, ctx=Store())],</span>
<span class="go">            value=Constant(value=2))])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.FunctionType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">FunctionType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argtypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.FunctionType" title="連結到這個定義">¶</a></dt>
<dd><p>函式的舊式型別註解的表示法，因為 3.5 之前的 Python 版本不支援 <span class="target" id="index-14"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> 註釋。當 <em>mode</em> 是 <code class="docutils literal notranslate"><span class="pre">&quot;func_type&quot;</span></code> 時節點型別由 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 生成。</p>
<p>這種型別的註解看起來像這樣：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum_two_number</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="c1"># type: (int, int) -&gt; int</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p><em>argtypes</em> 是<a class="reference internal" href="#ast-expressions"><span class="std std-ref">運算式節點</span></a>的 <a class="reference internal" href="stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>。</p>
<p><em>returns</em> 是單個<a class="reference internal" href="#ast-expressions"><span class="std std-ref">運算式節點</span></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(int, str) -&gt; List[int]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;func_type&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">FunctionType(</span>
<span class="go">    argtypes=[</span>
<span class="go">        Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">        Name(id=&#39;str&#39;, ctx=Load())],</span>
<span class="go">    returns=Subscript(</span>
<span class="go">        value=Name(id=&#39;List&#39;, ctx=Load()),</span>
<span class="go">        slice=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.8 版被加入.</span></p>
</div>
</dd></dl>

</section>
<section id="literals">
<h3>文本 (Literals)<a class="headerlink" href="#literals" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Constant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Constant" title="連結到這個定義">¶</a></dt>
<dd><p>一個常數值。<code class="docutils literal notranslate"><span class="pre">Constant</span></code> 文本的 <code class="docutils literal notranslate"><span class="pre">value</span></code> 屬性包含它所代表的 Python 物件。表示的值可以是簡單型別，例如數字、字串或 <code class="docutils literal notranslate"><span class="pre">None</span></code>，但如果它們的所有元素都是常數，也可以是不可變的 (immutable) 容器型別（元組和凍結集合 (frozensets)）。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Constant(value=123))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.FormattedValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">FormattedValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_spec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.FormattedValue" title="連結到這個定義">¶</a></dt>
<dd><p>表示 f 字串 (f-string) 中的單個格式化欄位的節點。如果字串包含單個格式欄位並且沒有其他內容，則可以隔離 (isolate) 該節點，否則它將出現在 <a class="reference internal" href="#ast.JoinedStr" title="ast.JoinedStr"><code class="xref py py-class docutils literal notranslate"><span class="pre">JoinedStr</span></code></a> 中。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code> 為任何運算式節點（例如文字、變數或函式呼叫）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conversion</span></code> 是一個整數：</p>
<ul>
<li><p>-1: 無格式化</p></li>
<li><p>115: <code class="docutils literal notranslate"><span class="pre">!s</span></code> 字串格式化</p></li>
<li><p>114:<code class="docutils literal notranslate"><span class="pre">!r</span></code> 重複格式化化</p></li>
<li><p>97: <code class="docutils literal notranslate"><span class="pre">！a</span></code> ascii 格式化</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">format_spec</span></code> 是一個 <a class="reference internal" href="#ast.JoinedStr" title="ast.JoinedStr"><code class="xref py py-class docutils literal notranslate"><span class="pre">JoinedStr</span></code></a> 節點，表示值的格式，若未指定格式則為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。<code class="docutils literal notranslate"><span class="pre">conversion</span></code> 和 <code class="docutils literal notranslate"><span class="pre">format_spec</span></code> 可以同時設定。</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.JoinedStr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">JoinedStr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.JoinedStr" title="連結到這個定義">¶</a></dt>
<dd><p>一個 f 字串，包含一系列 <a class="reference internal" href="#ast.FormattedValue" title="ast.FormattedValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">FormattedValue</span></code></a> 和 <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a> 節點。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;f&quot;sin(</span><span class="si">{a}</span><span class="s1">) is {sin(a):.3}&quot;&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=JoinedStr(</span>
<span class="go">        values=[</span>
<span class="go">            Constant(value=&#39;sin(&#39;),</span>
<span class="go">            FormattedValue(</span>
<span class="go">                value=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                conversion=-1),</span>
<span class="go">            Constant(value=&#39;) is &#39;),</span>
<span class="go">            FormattedValue(</span>
<span class="go">                value=Call(</span>
<span class="go">                    func=Name(id=&#39;sin&#39;, ctx=Load()),</span>
<span class="go">                    args=[</span>
<span class="go">                        Name(id=&#39;a&#39;, ctx=Load())],</span>
<span class="go">                    keywords=[]),</span>
<span class="go">                conversion=-1,</span>
<span class="go">                format_spec=JoinedStr(</span>
<span class="go">                    values=[</span>
<span class="go">                        Constant(value=&#39;.3&#39;)]))]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.List">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">List</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.List" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Tuple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Tuple" title="連結到這個定義">¶</a></dt>
<dd><p>串列或元組。<code class="docutils literal notranslate"><span class="pre">elts</span></code> 保存表示元素的節點串列。如果容器是賦值目標（即 <code class="docutils literal notranslate"><span class="pre">(x,y)=something</span></code> ），則 <code class="docutils literal notranslate"><span class="pre">ctx</span></code> 是 <a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a>，否則是 <a class="reference internal" href="#ast.Load" title="ast.Load"><code class="xref py py-class docutils literal notranslate"><span class="pre">Load</span></code></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=List(</span>
<span class="go">        elts=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Constant(value=2),</span>
<span class="go">            Constant(value=3)],</span>
<span class="go">        ctx=Load()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(1, 2, 3)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Tuple(</span>
<span class="go">        elts=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Constant(value=2),</span>
<span class="go">            Constant(value=3)],</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Set">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Set" title="連結到這個定義">¶</a></dt>
<dd><p>一個集合。<code class="docutils literal notranslate"><span class="pre">elts</span></code> 保存表示集合之元素的節點串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{1, 2, 3}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Set(</span>
<span class="go">        elts=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Constant(value=2),</span>
<span class="go">            Constant(value=3)]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Dict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Dict" title="連結到這個定義">¶</a></dt>
<dd><p>一個字典 (dictionary)。<code class="docutils literal notranslate"><span class="pre">keys</span></code> 和 <code class="docutils literal notranslate"><span class="pre">values</span></code> 分別按匹配順序保存表示鍵和值的節點串列（為呼叫 <code class="code docutils literal notranslate"><span class="pre">dictionary.keys()</span></code> 和 <code class="code docutils literal notranslate"><span class="pre">dictionary.values()</span></code> 時將回傳的內容）。</p>
<p>當使用字典文本進行字典解包 (unpack) 時，要擴充的運算式位於 <code class="docutils literal notranslate"><span class="pre">values</span></code> 串列中，在 <code class="docutils literal notranslate"><span class="pre">keys</span></code> 中的相應位置有一個 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;:1, **d}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Dict(</span>
<span class="go">        keys=[</span>
<span class="go">            Constant(value=&#39;a&#39;),</span>
<span class="go">            None],</span>
<span class="go">        values=[</span>
<span class="go">            Constant(value=1),</span>
<span class="go">            Name(id=&#39;d&#39;, ctx=Load())]))</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="variables">
<h3>變數<a class="headerlink" href="#variables" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Name">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Name" title="連結到這個定義">¶</a></dt>
<dd><p>一個變數名稱。<code class="docutils literal notranslate"><span class="pre">id</span></code> 將名稱以字串形式保存，且 <code class="docutils literal notranslate"><span class="pre">ctx</span></code> 是以下型別之一。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Load">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Load</span></span><a class="headerlink" href="#ast.Load" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Store">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Store</span></span><a class="headerlink" href="#ast.Store" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Del">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Del</span></span><a class="headerlink" href="#ast.Del" title="連結到這個定義">¶</a></dt>
<dd><p>變數參照可用於載入變數的值、為其分配新值或刪除它。變數參照被賦予情境 (context) 來區分這些情況。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=Name(id=&#39;a&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a = 1&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;a&#39;, ctx=Store())],</span>
<span class="go">            value=Constant(value=1))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;del a&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Delete(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;a&#39;, ctx=Del())])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Starred">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Starred</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Starred" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">*var</span></code> 變數參照。<code class="docutils literal notranslate"><span class="pre">value</span></code> 保存變數，通常是一個 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 節點。在使用 <code class="docutils literal notranslate"><span class="pre">*args</span></code> 建置 <a class="reference internal" href="#ast.Call" title="ast.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a> 節點時必須使用此型別。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a, *b = it&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Tuple(</span>
<span class="go">                    elts=[</span>
<span class="go">                        Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">                        Starred(</span>
<span class="go">                            value=Name(id=&#39;b&#39;, ctx=Store()),</span>
<span class="go">                            ctx=Store())],</span>
<span class="go">                    ctx=Store())],</span>
<span class="go">            value=Name(id=&#39;it&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="expressions">
<span id="ast-expressions"></span><h3>運算式<a class="headerlink" href="#expressions" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Expr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Expr" title="連結到這個定義">¶</a></dt>
<dd><p>當運算式（例如函式呼叫）本身作為陳述式出現且未使用或儲存其回傳值時，它將被包裝在此容器中。<code class="docutils literal notranslate"><span class="pre">value</span></code> 保存此區段 (section) 中的一個其他節點：<a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a>、<a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>、<a class="reference internal" href="#ast.Lambda" title="ast.Lambda"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lambda</span></code></a>、<a class="reference internal" href="#ast.Yield" title="ast.Yield"><code class="xref py py-class docutils literal notranslate"><span class="pre">Yield</span></code></a> 或 <a class="reference internal" href="#ast.YieldFrom" title="ast.YieldFrom"><code class="xref py py-class docutils literal notranslate"><span class="pre">YieldFrom</span></code></a></p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;-a&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=UnaryOp(</span>
<span class="go">                op=USub(),</span>
<span class="go">                operand=Name(id=&#39;a&#39;, ctx=Load())))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.UnaryOp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">UnaryOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operand</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.UnaryOp" title="連結到這個定義">¶</a></dt>
<dd><p>一元運算 (unary operation)。<code class="docutils literal notranslate"><span class="pre">op</span></code> 是運算子，<code class="docutils literal notranslate"><span class="pre">operand</span></code> 是任何運算式節點。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.UAdd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">UAdd</span></span><a class="headerlink" href="#ast.UAdd" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.USub">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">USub</span></span><a class="headerlink" href="#ast.USub" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Not">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Not</span></span><a class="headerlink" href="#ast.Not" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Invert">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Invert</span></span><a class="headerlink" href="#ast.Invert" title="連結到這個定義">¶</a></dt>
<dd><p>一元運算子標記。 <a class="reference internal" href="#ast.Not" title="ast.Not"><code class="xref py py-class docutils literal notranslate"><span class="pre">Not</span></code></a> 是 <code class="docutils literal notranslate"><span class="pre">not</span></code> 關鍵字、<a class="reference internal" href="#ast.Invert" title="ast.Invert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Invert</span></code></a> 是 <code class="docutils literal notranslate"><span class="pre">~</span></code> 運算子。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;not x&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=UnaryOp(</span>
<span class="go">        op=Not(),</span>
<span class="go">        operand=Name(id=&#39;x&#39;, ctx=Load())))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.BinOp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BinOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.BinOp" title="連結到這個定義">¶</a></dt>
<dd><p>二元運算 (binary operation)（如加法或除法）。 <code class="docutils literal notranslate"><span class="pre">op</span></code> 是運算子、<code class="docutils literal notranslate"><span class="pre">left</span></code> 和 <code class="docutils literal notranslate"><span class="pre">right</span></code> 是任意運算式節點。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x + y&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=BinOp(</span>
<span class="go">        left=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        op=Add(),</span>
<span class="go">        right=Name(id=&#39;y&#39;, ctx=Load())))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Add">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Add</span></span><a class="headerlink" href="#ast.Add" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Sub">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Sub</span></span><a class="headerlink" href="#ast.Sub" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Mult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Mult</span></span><a class="headerlink" href="#ast.Mult" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Div">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Div</span></span><a class="headerlink" href="#ast.Div" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.FloorDiv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">FloorDiv</span></span><a class="headerlink" href="#ast.FloorDiv" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Mod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Mod</span></span><a class="headerlink" href="#ast.Mod" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Pow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Pow</span></span><a class="headerlink" href="#ast.Pow" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.LShift">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">LShift</span></span><a class="headerlink" href="#ast.LShift" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.RShift">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">RShift</span></span><a class="headerlink" href="#ast.RShift" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.BitOr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BitOr</span></span><a class="headerlink" href="#ast.BitOr" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.BitXor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BitXor</span></span><a class="headerlink" href="#ast.BitXor" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.BitAnd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BitAnd</span></span><a class="headerlink" href="#ast.BitAnd" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.MatMult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatMult</span></span><a class="headerlink" href="#ast.MatMult" title="連結到這個定義">¶</a></dt>
<dd><p>二元運算子 token。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.BoolOp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">BoolOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.BoolOp" title="連結到這個定義">¶</a></dt>
<dd><p>布林運算 'or' 或 'and'。<code class="docutils literal notranslate"><span class="pre">op</span></code> 是 <a class="reference internal" href="#ast.Or" title="ast.Or"><code class="xref py py-class docutils literal notranslate"><span class="pre">Or</span></code></a> 或 <a class="reference internal" href="#ast.And" title="ast.And"><code class="xref py py-class docutils literal notranslate"><span class="pre">And</span></code></a>。<code class="docutils literal notranslate"><span class="pre">values</span></code> 是有所涉及的值。使用同一運算子的連續操作（例如 <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">or</span> <span class="pre">b</span> <span class="pre">or</span> <span class="pre">c</span></code>）會被折疊為具有多個值的一個節點。</p>
<p>這不包括 <code class="docutils literal notranslate"><span class="pre">not</span></code>，它是一個 <a class="reference internal" href="#ast.UnaryOp" title="ast.UnaryOp"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnaryOp</span></code></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x or y&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=BoolOp(</span>
<span class="go">        op=Or(),</span>
<span class="go">        values=[</span>
<span class="go">            Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            Name(id=&#39;y&#39;, ctx=Load())]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.And">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">And</span></span><a class="headerlink" href="#ast.And" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Or">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Or</span></span><a class="headerlink" href="#ast.Or" title="連結到這個定義">¶</a></dt>
<dd><p>布林運算子 token。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Compare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ops</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Compare" title="連結到這個定義">¶</a></dt>
<dd><p>兩個或多個值的比較。<code class="docutils literal notranslate"><span class="pre">left</span></code> 是比較中的第一個值、<code class="docutils literal notranslate"><span class="pre">ops</span></code> 是運算子串列、<code class="docutils literal notranslate"><span class="pre">comparators</span></code> 是要比較的第一個元素之後值的串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;1 &lt;= a &lt; 10&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Compare(</span>
<span class="go">        left=Constant(value=1),</span>
<span class="go">        ops=[</span>
<span class="go">            LtE(),</span>
<span class="go">            Lt()],</span>
<span class="go">        comparators=[</span>
<span class="go">            Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">            Constant(value=10)]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Eq">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Eq</span></span><a class="headerlink" href="#ast.Eq" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.NotEq">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NotEq</span></span><a class="headerlink" href="#ast.NotEq" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Lt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Lt</span></span><a class="headerlink" href="#ast.Lt" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.LtE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">LtE</span></span><a class="headerlink" href="#ast.LtE" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Gt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Gt</span></span><a class="headerlink" href="#ast.Gt" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.GtE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">GtE</span></span><a class="headerlink" href="#ast.GtE" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Is">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Is</span></span><a class="headerlink" href="#ast.Is" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.IsNot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">IsNot</span></span><a class="headerlink" href="#ast.IsNot" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.In">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">In</span></span><a class="headerlink" href="#ast.In" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.NotIn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NotIn</span></span><a class="headerlink" href="#ast.NotIn" title="連結到這個定義">¶</a></dt>
<dd><p>比較運算子 token。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Call">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Call" title="連結到這個定義">¶</a></dt>
<dd><p>一個函式呼叫。<code class="docutils literal notranslate"><span class="pre">func</span></code> 是該函式，通常是一個 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 或 <a class="reference internal" href="#ast.Attribute" title="ast.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> 物件。而在引數中：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code> 保存按位置傳遞的引數串列。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keywords</span></code> 保存一個 <a class="reference internal" href="#ast.keyword" title="ast.keyword"><code class="xref py py-class docutils literal notranslate"><span class="pre">keyword</span></code></a> 物件串列，表示透過關鍵字傳遞的引數。</p></li>
</ul>
<p>建立 <code class="docutils literal notranslate"><span class="pre">Call</span></code> 節點時會需要 <code class="docutils literal notranslate"><span class="pre">args</span></code> 和 <code class="docutils literal notranslate"><span class="pre">keywords</span></code>，但它們可以是空串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;func(a, b=c, *d, **e)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Call(</span>
<span class="go">        func=Name(id=&#39;func&#39;, ctx=Load()),</span>
<span class="go">        args=[</span>
<span class="go">            Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">            Starred(</span>
<span class="go">                value=Name(id=&#39;d&#39;, ctx=Load()),</span>
<span class="go">                ctx=Load())],</span>
<span class="go">        keywords=[</span>
<span class="go">            keyword(</span>
<span class="go">                arg=&#39;b&#39;,</span>
<span class="go">                value=Name(id=&#39;c&#39;, ctx=Load())),</span>
<span class="go">            keyword(</span>
<span class="go">                value=Name(id=&#39;e&#39;, ctx=Load()))]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.keyword">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">keyword</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.keyword" title="連結到這個定義">¶</a></dt>
<dd><p>函式呼叫或類別定義的關鍵字引數。<code class="docutils literal notranslate"><span class="pre">arg</span></code> 是參數名稱的原始字串，<code class="docutils literal notranslate"><span class="pre">value</span></code> 是要傳入的節點。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.IfExp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">IfExp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.IfExp" title="連結到這個定義">¶</a></dt>
<dd><p>像是 <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">if</span> <span class="pre">b</span> <span class="pre">else</span> <span class="pre">c</span></code> 之類的運算式。每個欄位都保存一個節點，因此在以下範例中，所有三個都是 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 節點。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a if b else c&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=IfExp(</span>
<span class="go">        test=Name(id=&#39;b&#39;, ctx=Load()),</span>
<span class="go">        body=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">        orelse=Name(id=&#39;c&#39;, ctx=Load())))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Attribute">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Attribute" title="連結到這個定義">¶</a></dt>
<dd><p>屬性的存取，例如 <code class="docutils literal notranslate"><span class="pre">d.keys</span></code>。<code class="docutils literal notranslate"><span class="pre">value</span></code> 是一個節點，通常是一個 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>。<code class="docutils literal notranslate"><span class="pre">attr</span></code> 是一個屬性名稱的字串，<code class="docutils literal notranslate"><span class="pre">ctx</span></code> 根據屬性的作用方式可能是 <a class="reference internal" href="#ast.Load" title="ast.Load"><code class="xref py py-class docutils literal notranslate"><span class="pre">Load</span></code></a>、<a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a> 或 <a class="reference internal" href="#ast.Del" title="ast.Del"><code class="xref py py-class docutils literal notranslate"><span class="pre">Del</span></code></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;snake.colour&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Attribute(</span>
<span class="go">        value=Name(id=&#39;snake&#39;, ctx=Load()),</span>
<span class="go">        attr=&#39;colour&#39;,</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.NamedExpr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NamedExpr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.NamedExpr" title="連結到這個定義">¶</a></dt>
<dd><p>一個附名運算式 (named expression)。該 AST 節點由賦值運算式運算子（也稱為海象運算子）產生。相對於 <a class="reference internal" href="#ast.Assign" title="ast.Assign"><code class="xref py py-class docutils literal notranslate"><span class="pre">Assign</span></code></a> 節點之第一個引數可為多個節點，在這種情況下 <code class="docutils literal notranslate"><span class="pre">target</span></code> 和 <code class="docutils literal notranslate"><span class="pre">value</span></code> 都必須是單個節點。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(x := 4)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=NamedExpr(</span>
<span class="go">        target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">        value=Constant(value=4)))</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.8 版被加入.</span></p>
</div>
</dd></dl>

<section id="subscripting">
<h4>下標 (Subscripting)<a class="headerlink" href="#subscripting" title="連結到這個標頭">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Subscript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Subscript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Subscript" title="連結到這個定義">¶</a></dt>
<dd><p>一個下標，例如 <code class="docutils literal notranslate"><span class="pre">l[1]</span></code>。<code class="docutils literal notranslate"><span class="pre">value</span></code> 是下標物件（通常是序列或對映）。<code class="docutils literal notranslate"><span class="pre">slice</span></code> 是索引、切片或鍵。它可以是一個 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 並包含一個 <a class="reference internal" href="#ast.Slice" title="ast.Slice"><code class="xref py py-class docutils literal notranslate"><span class="pre">Slice</span></code></a>。根據下標執行的操作不同，<code class="docutils literal notranslate"><span class="pre">ctx</span></code> 可以是 <a class="reference internal" href="#ast.Load" title="ast.Load"><code class="xref py py-class docutils literal notranslate"><span class="pre">Load</span></code></a>、<a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a> 或 <a class="reference internal" href="#ast.Del" title="ast.Del"><code class="xref py py-class docutils literal notranslate"><span class="pre">Del</span></code></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;l[1:2, 3]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Subscript(</span>
<span class="go">        value=Name(id=&#39;l&#39;, ctx=Load()),</span>
<span class="go">        slice=Tuple(</span>
<span class="go">            elts=[</span>
<span class="go">                Slice(</span>
<span class="go">                    lower=Constant(value=1),</span>
<span class="go">                    upper=Constant(value=2)),</span>
<span class="go">                Constant(value=3)],</span>
<span class="go">            ctx=Load()),</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Slice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Slice" title="連結到這個定義">¶</a></dt>
<dd><p>常規切片（形式為 <code class="docutils literal notranslate"><span class="pre">lower:upper</span></code> 或 <code class="docutils literal notranslate"><span class="pre">lower:upper:step</span></code>）。只能直接或者或者作為 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 的元素出現在 <a class="reference internal" href="#ast.Subscript" title="ast.Subscript"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscript</span></code></a> 的 <em>slice</em> 欄位內。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;l[1:2]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=Subscript(</span>
<span class="go">        value=Name(id=&#39;l&#39;, ctx=Load()),</span>
<span class="go">        slice=Slice(</span>
<span class="go">            lower=Constant(value=1),</span>
<span class="go">            upper=Constant(value=2)),</span>
<span class="go">        ctx=Load()))</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="comprehensions">
<h4>綜合運算式 (comprehensions)<a class="headerlink" href="#comprehensions" title="連結到這個標頭">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="ast.ListComp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ListComp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ListComp" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.SetComp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">SetComp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.SetComp" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.GeneratorExp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">GeneratorExp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.GeneratorExp" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.DictComp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">DictComp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generators</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.DictComp" title="連結到這個定義">¶</a></dt>
<dd><p>串列和集合綜合運算、生成器運算式和字典綜合運算。<code class="docutils literal notranslate"><span class="pre">elt</span></code>（或 <code class="docutils literal notranslate"><span class="pre">key</span></code> 和 <code class="docutils literal notranslate"><span class="pre">value</span></code>）是單個節點，表示各個項目會被求值 (evaluate) 的部分。</p>
<p><code class="docutils literal notranslate"><span class="pre">generators</span></code> 是一個 <a class="reference internal" href="#ast.comprehension" title="ast.comprehension"><code class="xref py py-class docutils literal notranslate"><span class="pre">comprehension</span></code></a> 節點的串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[x for x in numbers]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=ListComp(</span>
<span class="go">        elt=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;numbers&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{x: x**2 for x in numbers}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=DictComp(</span>
<span class="go">        key=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        value=BinOp(</span>
<span class="go">            left=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            op=Pow(),</span>
<span class="go">            right=Constant(value=2)),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;numbers&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;{x for x in numbers}&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Expression(</span>
<span class="go">    body=SetComp(</span>
<span class="go">        elt=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;numbers&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.comprehension">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">comprehension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_async</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.comprehension" title="連結到這個定義">¶</a></dt>
<dd><p>綜合運算中的一個 <code class="docutils literal notranslate"><span class="pre">for</span></code> 子句。<code class="docutils literal notranslate"><span class="pre">target</span></code> 是用於每個元素的參照 - 通常是 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 或 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 節點。<code class="docutils literal notranslate"><span class="pre">iter</span></code> 是要疊代的物件。<code class="docutils literal notranslate"><span class="pre">ifs</span></code> 是測試運算式的串列：每個 <code class="docutils literal notranslate"><span class="pre">for</span></code> 子句可以有多個 <code class="docutils literal notranslate"><span class="pre">ifs</span></code>。</p>
<p><code class="docutils literal notranslate"><span class="pre">is_async</span></code> 表示綜合運算式是非同步的（使用 <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> 而不是 <code class="docutils literal notranslate"><span class="pre">for</span></code> ）。該值為整數（0 或 1）。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[ord(c) for line in file for c in line]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Multiple comprehensions in one.</span>
<span class="go">Expression(</span>
<span class="go">    body=ListComp(</span>
<span class="go">        elt=Call(</span>
<span class="go">            func=Name(id=&#39;ord&#39;, ctx=Load()),</span>
<span class="go">            args=[</span>
<span class="go">                Name(id=&#39;c&#39;, ctx=Load())],</span>
<span class="go">            keywords=[]),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;line&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;file&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0),</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;c&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;line&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=0)]))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(n**2 for n in it if n&gt;5 if n&lt;10)&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># generator comprehension</span>
<span class="go">Expression(</span>
<span class="go">    body=GeneratorExp(</span>
<span class="go">        elt=BinOp(</span>
<span class="go">            left=Name(id=&#39;n&#39;, ctx=Load()),</span>
<span class="go">            op=Pow(),</span>
<span class="go">            right=Constant(value=2)),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;n&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;it&#39;, ctx=Load()),</span>
<span class="go">                ifs=[</span>
<span class="go">                    Compare(</span>
<span class="go">                        left=Name(id=&#39;n&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Gt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=5)]),</span>
<span class="go">                    Compare(</span>
<span class="go">                        left=Name(id=&#39;n&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Lt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=10)])],</span>
<span class="go">                is_async=0)]))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;[i async for i in soc]&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Async comprehension</span>
<span class="go">Expression(</span>
<span class="go">    body=ListComp(</span>
<span class="go">        elt=Name(id=&#39;i&#39;, ctx=Load()),</span>
<span class="go">        generators=[</span>
<span class="go">            comprehension(</span>
<span class="go">                target=Name(id=&#39;i&#39;, ctx=Store()),</span>
<span class="go">                iter=Name(id=&#39;soc&#39;, ctx=Load()),</span>
<span class="go">                ifs=[],</span>
<span class="go">                is_async=1)]))</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="statements">
<span id="ast-statements"></span><h3>陳述式<a class="headerlink" href="#statements" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Assign">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Assign" title="連結到這個定義">¶</a></dt>
<dd><p>一個賦值。<code class="docutils literal notranslate"><span class="pre">targets</span></code> 是節點串列，<code class="docutils literal notranslate"><span class="pre">value</span></code> 是單個節點。</p>
<p><code class="docutils literal notranslate"><span class="pre">targets</span></code> 中的多個節點表示為每個節點分配相同的值。解包是透過在 <code class="docutils literal notranslate"><span class="pre">targets</span></code> 中放置一個 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 或 <a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> 來表示的。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.Assign.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.Assign.type_comment" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是一個可選字串，其中的註解為型別註釋。</p>
</dd></dl>

<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a = b = 1&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Multiple assignment</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">                Name(id=&#39;b&#39;, ctx=Store())],</span>
<span class="go">            value=Constant(value=1))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a,b = c&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Unpacking</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assign(</span>
<span class="go">            targets=[</span>
<span class="go">                Tuple(</span>
<span class="go">                    elts=[</span>
<span class="go">                        Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">                        Name(id=&#39;b&#39;, ctx=Store())],</span>
<span class="go">                    ctx=Store())],</span>
<span class="go">            value=Name(id=&#39;c&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.AnnAssign">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AnnAssign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AnnAssign" title="連結到這個定義">¶</a></dt>
<dd><p>An assignment with a type annotation. <code class="docutils literal notranslate"><span class="pre">target</span></code> is a single node and can
be a <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>, an <a class="reference internal" href="#ast.Attribute" title="ast.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> or a <a class="reference internal" href="#ast.Subscript" title="ast.Subscript"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscript</span></code></a>.
<code class="docutils literal notranslate"><span class="pre">annotation</span></code> is the annotation, such as a <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a> or <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>
node. <code class="docutils literal notranslate"><span class="pre">value</span></code> is a single optional node.</p>
<p><code class="docutils literal notranslate"><span class="pre">simple</span></code> 總會是 0（表示一個「複雜」目標）或 1（表示一個「簡單」目標）。一個「簡單」目標僅包含一個 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 節點，且不出現在括號之間；所有其他目標都被視為是複雜的。只有簡單目標會出現在模組和類別的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">__annotations__</span></code> 字典中。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;c: int&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Name(id=&#39;c&#39;, ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            simple=1)],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;(a): int = 1&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Annotation with parenthesis</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            value=Constant(value=1),</span>
<span class="go">            simple=0)],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a.b: int&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Attribute annotation</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Attribute(</span>
<span class="go">                value=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                attr=&#39;b&#39;,</span>
<span class="go">                ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            simple=0)],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;a[1]: int&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># Subscript annotation</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AnnAssign(</span>
<span class="go">            target=Subscript(</span>
<span class="go">                value=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                slice=Constant(value=1),</span>
<span class="go">                ctx=Store()),</span>
<span class="go">            annotation=Name(id=&#39;int&#39;, ctx=Load()),</span>
<span class="go">            simple=0)],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.AugAssign">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AugAssign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AugAssign" title="連結到這個定義">¶</a></dt>
<dd><p>增加賦值 (augmented assignment)，例如 <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+=</span> <span class="pre">1</span></code>。在下面的範例中，<code class="docutils literal notranslate"><span class="pre">target</span></code> 是 <code class="docutils literal notranslate"><span class="pre">x</span></code> 的 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 節點（帶有 <a class="reference internal" href="#ast.Store" title="ast.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">Store</span></code></a> 情境），<code class="docutils literal notranslate"><span class="pre">op</span></code> 是 <a class="reference internal" href="#ast.Add" title="ast.Add"><code class="xref py py-class docutils literal notranslate"><span class="pre">Add</span></code></a>，<code class="docutils literal notranslate"><span class="pre">value</span></code> 是一個值為 1 的 <a class="reference internal" href="#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a>。</p>
<p>與 <a class="reference internal" href="#ast.Assign" title="ast.Assign"><code class="xref py py-class docutils literal notranslate"><span class="pre">Assign</span></code></a> 的目標不同，<code class="docutils literal notranslate"><span class="pre">target</span></code> 屬性不能屬於 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 或 <a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> 類別。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;x += 2&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AugAssign(</span>
<span class="go">            target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">            op=Add(),</span>
<span class="go">            value=Constant(value=2))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Raise">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Raise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Raise" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">raise</span></code> 陳述式。<code class="docutils literal notranslate"><span class="pre">exc</span></code> 是要引發的例外物件，通常是 <a class="reference internal" href="#ast.Call" title="ast.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a> 或 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>，若是獨立的 <code class="docutils literal notranslate"><span class="pre">raise</span></code> 則為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。<code class="docutils literal notranslate"><span class="pre">cause</span></code> 是 <code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">x</span> <span class="pre">from</span> <span class="pre">y</span></code> 中的可選部分 <code class="docutils literal notranslate"><span class="pre">y</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;raise x from y&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Raise(</span>
<span class="go">            exc=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cause=Name(id=&#39;y&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Assert">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Assert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Assert" title="連結到這個定義">¶</a></dt>
<dd><p>一個斷言 (assertion)。<code class="docutils literal notranslate"><span class="pre">test</span></code> 保存條件，例如 <a class="reference internal" href="#ast.Compare" title="ast.Compare"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compare</span></code></a> 節點。<code class="docutils literal notranslate"><span class="pre">msg</span></code> 保存失敗訊息。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;assert x,y&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Assert(</span>
<span class="go">            test=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            msg=Name(id=&#39;y&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Delete">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Delete" title="連結到這個定義">¶</a></dt>
<dd><p>代表一個 <code class="docutils literal notranslate"><span class="pre">del</span></code> 陳述式。<code class="docutils literal notranslate"><span class="pre">targets</span></code> 是節點串列，例如 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>、<a class="reference internal" href="#ast.Attribute" title="ast.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> 或 <a class="reference internal" href="#ast.Subscript" title="ast.Subscript"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscript</span></code></a> 節點。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;del x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Delete(</span>
<span class="go">            targets=[</span>
<span class="go">                Name(id=&#39;x&#39;, ctx=Del()),</span>
<span class="go">                Name(id=&#39;y&#39;, ctx=Del()),</span>
<span class="go">                Name(id=&#39;z&#39;, ctx=Del())])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Pass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Pass</span></span><a class="headerlink" href="#ast.Pass" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">pass</span></code> 陳述式。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;pass&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Pass()],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.TypeAlias">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">TypeAlias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.TypeAlias" title="連結到這個定義">¶</a></dt>
<dd><p>透過 <a class="reference internal" href="../reference/simple_stmts.html#type"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">type</span></code></a> 陳述式建立的<a class="reference internal" href="typing.html#type-aliases"><span class="std std-ref">型別別名 (type alias)</span></a>。<code class="docutils literal notranslate"><span class="pre">name</span></code> 是別名的名稱、<code class="docutils literal notranslate"><span class="pre">type_params</span></code> 是<a class="reference internal" href="#ast-type-params"><span class="std std-ref">型別參數 (type parameter)</span></a> 的串列、<code class="docutils literal notranslate"><span class="pre">value</span></code> 是型別別名的值。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;type Alias = int&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        TypeAlias(</span>
<span class="go">            name=Name(id=&#39;Alias&#39;, ctx=Store()),</span>
<span class="go">            type_params=[],</span>
<span class="go">            value=Name(id=&#39;int&#39;, ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.12 版被加入.</span></p>
</div>
</dd></dl>

<p>其他僅適用於函式或迴圈內部的陳述式將在其他部分中描述。</p>
<section id="imports">
<h4>引入 (imports)<a class="headerlink" href="#imports" title="連結到這個標頭">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Import">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Import" title="連結到這個定義">¶</a></dt>
<dd><p>一個 import 陳述式。<code class="docutils literal notranslate"><span class="pre">names</span></code> 是 <a class="reference internal" href="#ast.alias" title="ast.alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">alias</span></code></a> 節點的串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;import x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Import(</span>
<span class="go">            names=[</span>
<span class="go">                alias(name=&#39;x&#39;),</span>
<span class="go">                alias(name=&#39;y&#39;),</span>
<span class="go">                alias(name=&#39;z&#39;)])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.ImportFrom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ImportFrom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ImportFrom" title="連結到這個定義">¶</a></dt>
<dd><p>代表 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">x</span> <span class="pre">import</span> <span class="pre">y</span></code>。<code class="docutils literal notranslate"><span class="pre">module</span></code> 是 'from' 名稱的原始字串，前面沒有任何的點 (dot)，或者對於諸如 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">.</span> <span class="pre">import</span> <span class="pre">foo</span></code> 之類的陳述式則為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。<code class="docutils literal notranslate"><span class="pre">level</span></code> 是一個整數，保存相對引入的級別（0 表示絕對引入）。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;from y import x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        ImportFrom(</span>
<span class="go">            module=&#39;y&#39;,</span>
<span class="go">            names=[</span>
<span class="go">                alias(name=&#39;x&#39;),</span>
<span class="go">                alias(name=&#39;y&#39;),</span>
<span class="go">                alias(name=&#39;z&#39;)],</span>
<span class="go">            level=0)],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.alias">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.alias" title="連結到這個定義">¶</a></dt>
<dd><p>這兩個參數都是名稱的原始字串。如果要使用常規名稱，<code class="docutils literal notranslate"><span class="pre">asname</span></code> 可以為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;from ..foo.bar import a as b, c&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        ImportFrom(</span>
<span class="go">            module=&#39;foo.bar&#39;,</span>
<span class="go">            names=[</span>
<span class="go">                alias(name=&#39;a&#39;, asname=&#39;b&#39;),</span>
<span class="go">                alias(name=&#39;c&#39;)],</span>
<span class="go">            level=2)],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="control-flow">
<h3>流程控制<a class="headerlink" href="#control-flow" title="連結到這個標頭">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p>諸如 <code class="docutils literal notranslate"><span class="pre">else</span></code> 之類的可選子句如果不存在，則將被儲存為空串列。</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="ast.If">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">If</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.If" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">if</span></code> 陳述式。<code class="docutils literal notranslate"><span class="pre">test</span></code> 保存單個節點，例如 <a class="reference internal" href="#ast.Compare" title="ast.Compare"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compare</span></code></a> 節點。<code class="docutils literal notranslate"><span class="pre">body</span></code> 和 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 各自保存一個節點串列。</p>
<p><code class="docutils literal notranslate"><span class="pre">elif</span></code> 子句在 AST 中沒有特殊表示，而是在前一個子句的 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 部分中作為額外的 <a class="reference internal" href="#ast.If" title="ast.If"><code class="xref py py-class docutils literal notranslate"><span class="pre">If</span></code></a> 節點出現。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">if x:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">elif y:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">else:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        If(</span>
<span class="go">            test=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            orelse=[</span>
<span class="go">                If(</span>
<span class="go">                    test=Name(id=&#39;y&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))],</span>
<span class="go">                    orelse=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.For">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">For</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.For" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">for</span></code> 迴圈。 <code class="docutils literal notranslate"><span class="pre">target</span></code> 保存迴圈賦予的變數，為單個 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>、<a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a>、<a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>、<a class="reference internal" href="#ast.Attribute" title="ast.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> 或 <a class="reference internal" href="#ast.Subscript" title="ast.Subscript"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscript</span></code></a> 節點。<code class="docutils literal notranslate"><span class="pre">iter</span></code> 保存要迴圈跑過的項目，也為單個節點。<code class="docutils literal notranslate"><span class="pre">body</span></code> 和 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 包含要執行的節點串列。如果迴圈正常完成，則執行 <code class="docutils literal notranslate"><span class="pre">orelse</span></code> 中的內容，而不是透過 <code class="docutils literal notranslate"><span class="pre">break</span></code> 陳述式執行。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.For.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.For.type_comment" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是一個可選字串，其中的註解為型別註釋。</p>
</dd></dl>

<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">for x in y:</span>
<span class="gp">... </span><span class="s2">    ...</span>
<span class="gp">... </span><span class="s2">else:</span>
<span class="gp">... </span><span class="s2">    ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        For(</span>
<span class="go">            target=Name(id=&#39;x&#39;, ctx=Store()),</span>
<span class="go">            iter=Name(id=&#39;y&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            orelse=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.While">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">While</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.While" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">while</span></code> 迴圈。<code class="docutils literal notranslate"><span class="pre">test</span></code> 保存條件，例如 <a class="reference internal" href="#ast.Compare" title="ast.Compare"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compare</span></code></a> 節點。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt; print(ast.dump(ast.parse(&quot;&quot;&quot;</span>
<span class="go">... while x:</span>
<span class="go">...    ...</span>
<span class="go">... else:</span>
<span class="go">...    ...</span>
<span class="go">... &quot;&quot;&quot;), indent=4))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        While(</span>
<span class="go">            test=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            orelse=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Break">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Break</span></span><a class="headerlink" href="#ast.Break" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Continue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Continue</span></span><a class="headerlink" href="#ast.Continue" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">break</span></code> 和 <code class="docutils literal notranslate"><span class="pre">continue</span></code> 陳述式。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">for a in b:</span>
<span class="gp">... </span><span class="s2">    if a &gt; 5:</span>
<span class="gp">... </span><span class="s2">        break</span>
<span class="gp">... </span><span class="s2">    else:</span>
<span class="gp">... </span><span class="s2">        continue</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        For(</span>
<span class="go">            target=Name(id=&#39;a&#39;, ctx=Store()),</span>
<span class="go">            iter=Name(id=&#39;b&#39;, ctx=Load()),</span>
<span class="go">            body=[</span>
<span class="go">                If(</span>
<span class="go">                    test=Compare(</span>
<span class="go">                        left=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Gt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=5)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Break()],</span>
<span class="go">                    orelse=[</span>
<span class="go">                        Continue()])],</span>
<span class="go">            orelse=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Try">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Try</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalbody</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Try" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">try</span></code> 區塊。除 <code class="docutils literal notranslate"><span class="pre">handlers</span></code> 是 <a class="reference internal" href="#ast.ExceptHandler" title="ast.ExceptHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExceptHandler</span></code></a> 節點的串列外，其他所有屬性都是要執行之節點的串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">try:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">except Exception:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">except OtherException as e:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">else:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">finally:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Try(</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            handlers=[</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;Exception&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;OtherException&#39;, ctx=Load()),</span>
<span class="go">                    name=&#39;e&#39;,</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])],</span>
<span class="go">            orelse=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            finalbody=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.TryStar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">TryStar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalbody</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.TryStar" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">try</span></code> 區塊，後面跟著 <code class="docutils literal notranslate"><span class="pre">except*</span></code> 子句。這些屬性與 <a class="reference internal" href="#ast.Try" title="ast.Try"><code class="xref py py-class docutils literal notranslate"><span class="pre">Try</span></code></a> 相同，但是 <code class="docutils literal notranslate"><span class="pre">handlers</span></code> 中的 <a class="reference internal" href="#ast.ExceptHandler" title="ast.ExceptHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExceptHandler</span></code></a> 節點被直譯 (interpret) 為 <code class="docutils literal notranslate"><span class="pre">except*</span></code> 區塊而不是 <code class="docutils literal notranslate"><span class="pre">except</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">try:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">except* Exception:</span>
<span class="gp">... </span><span class="s2">   ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        TryStar(</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Constant(value=Ellipsis))],</span>
<span class="go">            handlers=[</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;Exception&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])],</span>
<span class="go">            orelse=[],</span>
<span class="go">            finalbody=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.11 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.ExceptHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ExceptHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ExceptHandler" title="連結到這個定義">¶</a></dt>
<dd><p>單個 <code class="docutils literal notranslate"><span class="pre">except</span></code> 子句。<code class="docutils literal notranslate"><span class="pre">type</span></code> 是會被匹配的例外型別，通常是一個 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 節點（或者 <code class="docutils literal notranslate"><span class="pre">None</span></code> 表示會捕捉到所有例外的 <code class="docutils literal notranslate"><span class="pre">except:</span></code> 子句）。<code class="docutils literal notranslate"><span class="pre">name</span></code> 是用於保存例外的名稱之原始字串，如果子句沒有 <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">foo</span></code> ，則為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。<code class="docutils literal notranslate"><span class="pre">body</span></code> 是節點串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">try:</span>
<span class="gp">... </span><span class="s2">    a + 1</span>
<span class="gp">... </span><span class="s2">except TypeError:</span>
<span class="gp">... </span><span class="s2">    pass</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Try(</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=BinOp(</span>
<span class="go">                        left=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                        op=Add(),</span>
<span class="go">                        right=Constant(value=1)))],</span>
<span class="go">            handlers=[</span>
<span class="go">                ExceptHandler(</span>
<span class="go">                    type=Name(id=&#39;TypeError&#39;, ctx=Load()),</span>
<span class="go">                    body=[</span>
<span class="go">                        Pass()])],</span>
<span class="go">            orelse=[],</span>
<span class="go">            finalbody=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.With">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">With</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.With" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">with</span></code> 區塊。<code class="docutils literal notranslate"><span class="pre">items</span></code> 是表示情境管理器的 <a class="reference internal" href="#ast.withitem" title="ast.withitem"><code class="xref py py-class docutils literal notranslate"><span class="pre">withitem</span></code></a> 節點串列，<code class="docutils literal notranslate"><span class="pre">body</span></code> 是情境內的縮進區塊。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.With.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.With.type_comment" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是一個可選字串，其中的註解為型別註釋。</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.withitem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">withitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context_expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optional_vars</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.withitem" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">with</span></code> 區塊中的單個情境管理器。<code class="docutils literal notranslate"><span class="pre">context_expr</span></code> 是情境管理器，通常是一個 <a class="reference internal" href="#ast.Call" title="ast.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a> 節點。<code class="docutils literal notranslate"><span class="pre">Optional_vars</span></code> 是 <code class="docutils literal notranslate"><span class="pre">as</span> <span class="pre">foo</span></code> 部分的 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a>、<a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a> 或 <a class="reference internal" href="#ast.List" title="ast.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>，或者如果不使用則為 <code class="docutils literal notranslate"><span class="pre">None</span></code> 。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">with a as b, c as d:</span>
<span class="gp">... </span><span class="s2">   something(b, d)</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        With(</span>
<span class="go">            items=[</span>
<span class="go">                withitem(</span>
<span class="go">                    context_expr=Name(id=&#39;a&#39;, ctx=Load()),</span>
<span class="go">                    optional_vars=Name(id=&#39;b&#39;, ctx=Store())),</span>
<span class="go">                withitem(</span>
<span class="go">                    context_expr=Name(id=&#39;c&#39;, ctx=Load()),</span>
<span class="go">                    optional_vars=Name(id=&#39;d&#39;, ctx=Store()))],</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Call(</span>
<span class="go">                        func=Name(id=&#39;something&#39;, ctx=Load()),</span>
<span class="go">                        args=[</span>
<span class="go">                            Name(id=&#39;b&#39;, ctx=Load()),</span>
<span class="go">                            Name(id=&#39;d&#39;, ctx=Load())],</span>
<span class="go">                        keywords=[]))])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="pattern-matching">
<h3>模式匹配 (pattern matching)<a class="headerlink" href="#pattern-matching" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.Match">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cases</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Match" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">match</span></code> 陳述式。<code class="docutils literal notranslate"><span class="pre">subject</span></code> 保存匹配的主題（與案例匹配的物件），<code class="docutils literal notranslate"><span class="pre">cases</span></code> 包含具有不同案例的 <a class="reference internal" href="#ast.match_case" title="ast.match_case"><code class="xref py py-class docutils literal notranslate"><span class="pre">match_case</span></code></a> 節點的可疊代物件。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.match_case">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">match_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.match_case" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">match</span></code> 陳述式中的單個案例模式。<code class="docutils literal notranslate"><span class="pre">pattern</span></code> 包含主題將與之匹配的匹配模式。請注意，為模式生成的 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">AST</span></code></a> 節點與為運算式生成的節點不同，即使它們共享相同的語法。</p>
<p><code class="docutils literal notranslate"><span class="pre">guard</span></code> 屬性包含一個運算式，如果模式與主題匹配，則將對該運算式求值。</p>
<p><code class="docutils literal notranslate"><span class="pre">body</span></code> 包含一個節點串列，如果模式匹配並且為防護運算式 (guard expression) 的求值 (evaluate) 結果為真，則會執行該節點串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [x] if x&gt;0:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case tuple():</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchAs(name=&#39;x&#39;)]),</span>
<span class="go">                    guard=Compare(</span>
<span class="go">                        left=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">                        ops=[</span>
<span class="go">                            Gt()],</span>
<span class="go">                        comparators=[</span>
<span class="go">                            Constant(value=0)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchClass(</span>
<span class="go">                        cls=Name(id=&#39;tuple&#39;, ctx=Load()),</span>
<span class="go">                        patterns=[],</span>
<span class="go">                        kwd_attrs=[],</span>
<span class="go">                        kwd_patterns=[]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchValue" title="連結到這個定義">¶</a></dt>
<dd><p>以相等性進行比較的匹配文本或值的模式。<code class="docutils literal notranslate"><span class="pre">value</span></code> 是一個運算式節點。允許值節點受到匹配陳述式文件中所述的限制。如果匹配主題等於求出值，則此模式成功。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case &quot;Relevant&quot;:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchValue(</span>
<span class="go">                        value=Constant(value=&#39;Relevant&#39;)),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchSingleton">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchSingleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchSingleton" title="連結到這個定義">¶</a></dt>
<dd><p>按識別性 (identity) 進行比較的匹配文本模式。<code class="docutils literal notranslate"><span class="pre">value</span></code> 是要與 <code class="docutils literal notranslate"><span class="pre">None</span></code>、<code class="docutils literal notranslate"><span class="pre">True</span></code> 或 <code class="docutils literal notranslate"><span class="pre">False</span></code> 進行比較的單例 (singleton)。如果匹配主題是給定的常數，則此模式成功。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case None:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSingleton(value=None),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchSequence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchSequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchSequence" title="連結到這個定義">¶</a></dt>
<dd><p>匹配序列模式。如果主題是一個序列，<code class="docutils literal notranslate"><span class="pre">patterns</span></code> 包含與主題元素匹配的模式。如果子模式之一是 <code class="docutils literal notranslate"><span class="pre">MatchStar</span></code> 節點，則匹配可變長度序列，否則匹配固定長度序列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [1, 2]:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=1)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=2))]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchStar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchStar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchStar" title="連結到這個定義">¶</a></dt>
<dd><p>以可變長度匹配序列模式匹配序列的其餘部分。如果 <code class="docutils literal notranslate"><span class="pre">name</span></code> 不是 <code class="docutils literal notranslate"><span class="pre">None</span></code>，則如果整體序列模式成功，則包含其餘序列元素的串列將綁定到該名稱。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [1, 2, *rest]:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case [*_]:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=1)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=2)),</span>
<span class="go">                            MatchStar(name=&#39;rest&#39;)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchSequence(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchStar()]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchMapping">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchMapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchMapping" title="連結到這個定義">¶</a></dt>
<dd><p>匹配對映模式。<code class="docutils literal notranslate"><span class="pre">keys</span></code> 是運算式節點的序列。<code class="docutils literal notranslate"><span class="pre">patterns</span></code> 是相應的模式節點序列。<code class="docutils literal notranslate"><span class="pre">rest</span></code> 是一個可選名稱，可以指定它來捕獲剩餘的對映元素。允許的鍵運算式受到匹配陳述式文件中所述的限制。</p>
<p>如果主題是對映，所有求值出的鍵運算式都存在於對映中，並且與每個鍵對應的值與相應的子模式匹配，則此模式成功。如果 <code class="docutils literal notranslate"><span class="pre">rest</span></code> 不是 <code class="docutils literal notranslate"><span class="pre">None</span></code>，則如果整體對映模式成功，則包含其餘對映元素的字典將綁定到該名稱。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case {1: _, 2: _}:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case {**rest}:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchMapping(</span>
<span class="go">                        keys=[</span>
<span class="go">                            Constant(value=1),</span>
<span class="go">                            Constant(value=2)],</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchAs(),</span>
<span class="go">                            MatchAs()]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchMapping(keys=[], patterns=[], rest=&#39;rest&#39;),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchClass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchClass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwd_attrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwd_patterns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchClass" title="連結到這個定義">¶</a></dt>
<dd><p>匹配類別模式。<code class="docutils literal notranslate"><span class="pre">cls</span></code> 是一個給定要匹配的名義類別 (nominal class) 的運算式。<code class="docutils literal notranslate"><span class="pre">patterns</span></code> 是要與類別定義的模式匹配屬性序列進行匹配的模式節點序列。<code class="docutils literal notranslate"><span class="pre">kwd_attrs</span></code> 是要匹配的附加屬性序列（在類別模式中指定為關鍵字引數），<code class="docutils literal notranslate"><span class="pre">kwd_patterns</span></code> 是相應的模式（在類別模式中指定為關鍵字的值）。</p>
<p>如果主題是指定類別的實例，所有位置模式都與相應的類別定義屬性匹配，並且任何指定的關鍵字屬性與其相應模式匹配，則此模式成功。</p>
<p>注意：類別可以定義一個回傳 self 的特性 (property)，以便將模式節點與正在匹配的實例進行匹配。一些內建型別也以這種方式匹配，如同匹配陳述式文件中所述。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case Point2D(0, 0):</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case Point3D(x=0, y=0, z=0):</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchClass(</span>
<span class="go">                        cls=Name(id=&#39;Point2D&#39;, ctx=Load()),</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0))],</span>
<span class="go">                        kwd_attrs=[],</span>
<span class="go">                        kwd_patterns=[]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchClass(</span>
<span class="go">                        cls=Name(id=&#39;Point3D&#39;, ctx=Load()),</span>
<span class="go">                        patterns=[],</span>
<span class="go">                        kwd_attrs=[</span>
<span class="go">                            &#39;x&#39;,</span>
<span class="go">                            &#39;y&#39;,</span>
<span class="go">                            &#39;z&#39;],</span>
<span class="go">                        kwd_patterns=[</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0)),</span>
<span class="go">                            MatchValue(</span>
<span class="go">                                value=Constant(value=0))]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchAs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchAs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchAs" title="連結到這個定義">¶</a></dt>
<dd><p>匹配的 「as 模式 (as-pattern)」，為捕獲模式 (capture pattern) 或通配模式 (wildcard pattern)。<code class="docutils literal notranslate"><span class="pre">pattern</span></code> 包含主題將與之匹配的匹配模式。如果模式為 <code class="docutils literal notranslate"><span class="pre">None</span></code>，則該節點代表捕獲模式（即裸名 (bare name)）並且始終會成功。</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> 屬性包含模式成功時將綁定的名稱。如果 <code class="docutils literal notranslate"><span class="pre">name</span></code> 為 <code class="docutils literal notranslate"><span class="pre">None</span></code>，則 <code class="docutils literal notranslate"><span class="pre">pattern</span></code> 也必須為 <code class="docutils literal notranslate"><span class="pre">None</span></code>，並且節點代表通配模式。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [x] as y:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">    case _:</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchAs(</span>
<span class="go">                        pattern=MatchSequence(</span>
<span class="go">                            patterns=[</span>
<span class="go">                                MatchAs(name=&#39;x&#39;)]),</span>
<span class="go">                        name=&#39;y&#39;),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))]),</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchAs(),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.MatchOr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">MatchOr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.MatchOr" title="連結到這個定義">¶</a></dt>
<dd><p>匹配的 「or 模式 (or-pattern)」。 or 模式依次將其每個子模式與主題進行匹配，直到成功為止，然後 or 模式就會被認為是成功的。如果沒有一個子模式成功，則 or 模式將失敗。 <code class="docutils literal notranslate"><span class="pre">patterns</span></code> 屬性包含將與主題進行匹配的匹配模式節點串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">match x:</span>
<span class="gp">... </span><span class="s2">    case [x] | (y):</span>
<span class="gp">... </span><span class="s2">        ...</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Match(</span>
<span class="go">            subject=Name(id=&#39;x&#39;, ctx=Load()),</span>
<span class="go">            cases=[</span>
<span class="go">                match_case(</span>
<span class="go">                    pattern=MatchOr(</span>
<span class="go">                        patterns=[</span>
<span class="go">                            MatchSequence(</span>
<span class="go">                                patterns=[</span>
<span class="go">                                    MatchAs(name=&#39;x&#39;)]),</span>
<span class="go">                            MatchAs(name=&#39;y&#39;)]),</span>
<span class="go">                    body=[</span>
<span class="go">                        Expr(</span>
<span class="go">                            value=Constant(value=Ellipsis))])])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.10 版被加入.</span></p>
</div>
</dd></dl>

</section>
<section id="type-parameters">
<span id="ast-type-params"></span><h3>型別參數 (type parameters)<a class="headerlink" href="#type-parameters" title="連結到這個標頭">¶</a></h3>
<p><a class="reference internal" href="../reference/compound_stmts.html#type-params"><span class="std std-ref">型別參數</span></a>可以存在於類別、函式和型別別名上。</p>
<dl class="py class">
<dt class="sig sig-object py" id="ast.TypeVar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">TypeVar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bound</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.TypeVar" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <a class="reference internal" href="typing.html#typing.TypeVar" title="typing.TypeVar"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.TypeVar</span></code></a>。<code class="docutils literal notranslate"><span class="pre">name</span></code> 是型別變數的名稱。<code class="docutils literal notranslate"><span class="pre">bound</span></code> 是（如果有存在的）界限 (bound) 或約束 (constraint)。如果 <code class="docutils literal notranslate"><span class="pre">bound</span></code> 是一個 <a class="reference internal" href="#ast.Tuple" title="ast.Tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code></a>，它代表約束；否則它代表界限。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;type Alias[T: int] = list[T]&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        TypeAlias(</span>
<span class="go">            name=Name(id=&#39;Alias&#39;, ctx=Store()),</span>
<span class="go">            type_params=[</span>
<span class="go">                TypeVar(</span>
<span class="go">                    name=&#39;T&#39;,</span>
<span class="go">                    bound=Name(id=&#39;int&#39;, ctx=Load()))],</span>
<span class="go">            value=Subscript(</span>
<span class="go">                value=Name(id=&#39;list&#39;, ctx=Load()),</span>
<span class="go">                slice=Name(id=&#39;T&#39;, ctx=Load()),</span>
<span class="go">                ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.12 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.ParamSpec">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ParamSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ParamSpec" title="連結到這個定義">¶</a></dt>
<dd><p>A <a class="reference internal" href="typing.html#typing.ParamSpec" title="typing.ParamSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ParamSpec</span></code></a>。<code class="docutils literal notranslate"><span class="pre">name</span></code> 是參數規範的名稱。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;type Alias[**P] = Callable[P, int]&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        TypeAlias(</span>
<span class="go">            name=Name(id=&#39;Alias&#39;, ctx=Store()),</span>
<span class="go">            type_params=[</span>
<span class="go">                ParamSpec(name=&#39;P&#39;)],</span>
<span class="go">            value=Subscript(</span>
<span class="go">                value=Name(id=&#39;Callable&#39;, ctx=Load()),</span>
<span class="go">                slice=Tuple(</span>
<span class="go">                    elts=[</span>
<span class="go">                        Name(id=&#39;P&#39;, ctx=Load()),</span>
<span class="go">                        Name(id=&#39;int&#39;, ctx=Load())],</span>
<span class="go">                    ctx=Load()),</span>
<span class="go">                ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.12 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.TypeVarTuple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">TypeVarTuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.TypeVarTuple" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <a class="reference internal" href="typing.html#typing.TypeVarTuple" title="typing.TypeVarTuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.TypeVarTuple</span></code></a>。<code class="docutils literal notranslate"><span class="pre">name</span></code> 是型別變數元組的名稱。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;type Alias[*Ts] = tuple[*Ts]&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        TypeAlias(</span>
<span class="go">            name=Name(id=&#39;Alias&#39;, ctx=Store()),</span>
<span class="go">            type_params=[</span>
<span class="go">                TypeVarTuple(name=&#39;Ts&#39;)],</span>
<span class="go">            value=Subscript(</span>
<span class="go">                value=Name(id=&#39;tuple&#39;, ctx=Load()),</span>
<span class="go">                slice=Tuple(</span>
<span class="go">                    elts=[</span>
<span class="go">                        Starred(</span>
<span class="go">                            value=Name(id=&#39;Ts&#39;, ctx=Load()),</span>
<span class="go">                            ctx=Load())],</span>
<span class="go">                    ctx=Load()),</span>
<span class="go">                ctx=Load()))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.12 版被加入.</span></p>
</div>
</dd></dl>

</section>
<section id="function-and-class-definitions">
<h3>函式和類別定義<a class="headerlink" href="#function-and-class-definitions" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.FunctionDef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">FunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorator_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.FunctionDef" title="連結到這個定義">¶</a></dt>
<dd><p>一個函式定義。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> 是函式名稱的原始字串。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code> 是一個 <a class="reference internal" href="#ast.arguments" title="ast.arguments"><code class="xref py py-class docutils literal notranslate"><span class="pre">arguments</span></code></a> 節點。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">body</span></code> 是函式內節點的串列。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">decorator_list</span></code> 是要應用的裝飾器串列，在最外層者會被儲存在首位（即串列中首位將會是最後一個被應用的那個）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returns</span></code> 是回傳註釋。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_params</span></code> 是<a class="reference internal" href="#ast-type-params"><span class="std std-ref">型別參數</span></a>的串列。</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.FunctionDef.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.FunctionDef.type_comment" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是一個可選字串，其中的註解為型別註釋。</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">在 3.12 版的變更: </span>新增了 <code class="docutils literal notranslate"><span class="pre">type_params</span></code>。</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Lambda">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Lambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Lambda" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">lambda</span></code> 是可以在運算式內使用的最小函式定義。與 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a> 不同，<code class="docutils literal notranslate"><span class="pre">body</span></code> 保存單個節點。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;lambda x,y: ...&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=Lambda(</span>
<span class="go">                args=arguments(</span>
<span class="go">                    posonlyargs=[],</span>
<span class="go">                    args=[</span>
<span class="go">                        arg(arg=&#39;x&#39;),</span>
<span class="go">                        arg(arg=&#39;y&#39;)],</span>
<span class="go">                    kwonlyargs=[],</span>
<span class="go">                    kw_defaults=[],</span>
<span class="go">                    defaults=[]),</span>
<span class="go">                body=Constant(value=Ellipsis)))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.arguments">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">arguments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">posonlyargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vararg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwonlyargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_defaults</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwarg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.arguments" title="連結到這個定義">¶</a></dt>
<dd><p>函式的引數。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">posonlyargs</span></code>、<code class="docutils literal notranslate"><span class="pre">args</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kwonlyargs</span></code> 是 <a class="reference internal" href="#ast.arg" title="ast.arg"><code class="xref py py-class docutils literal notranslate"><span class="pre">arg</span></code></a> 節點的串列。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vararg</span></code> 和 <code class="docutils literal notranslate"><span class="pre">kwarg</span></code> 是單個 <a class="reference internal" href="#ast.arg" title="ast.arg"><code class="xref py py-class docutils literal notranslate"><span class="pre">arg</span></code></a> 節點，指的是 <code class="docutils literal notranslate"><span class="pre">*args,</span> <span class="pre">**kwargs</span></code> 參數。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kw_defaults</span></code> 是僅限關鍵字引數的預設值串列。如果其中某個為 <code class="docutils literal notranslate"><span class="pre">None</span></code>，則相應參數就會是必要的。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">defaults</span></code> 是可以按位置傳遞的引數的預設值串列。如果預設值較少，則它們對應於最後 n 個引數。</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.arg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.arg" title="連結到這個定義">¶</a></dt>
<dd><p>串列中的單個引數。<code class="docutils literal notranslate"><span class="pre">arg</span></code> 是引數名稱的原始字串，<code class="docutils literal notranslate"><span class="pre">annotation</span></code> 是它的註釋，例如 <a class="reference internal" href="#ast.Name" title="ast.Name"><code class="xref py py-class docutils literal notranslate"><span class="pre">Name</span></code></a> 節點。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ast.arg.type_comment">
<span class="sig-name descname"><span class="pre">type_comment</span></span><a class="headerlink" href="#ast.arg.type_comment" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 是一個可選字串，其註解為型別註釋</p>
</dd></dl>

<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">@decorator1</span>
<span class="gp">... </span><span class="s2">@decorator2</span>
<span class="gp">... </span><span class="s2">def f(a: &#39;annotation&#39;, b=1, c=2, *d, e, f=3, **g) -&gt; &#39;return annotation&#39;:</span>
<span class="gp">... </span><span class="s2">    pass</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        FunctionDef(</span>
<span class="go">            name=&#39;f&#39;,</span>
<span class="go">            args=arguments(</span>
<span class="go">                posonlyargs=[],</span>
<span class="go">                args=[</span>
<span class="go">                    arg(</span>
<span class="go">                        arg=&#39;a&#39;,</span>
<span class="go">                        annotation=Constant(value=&#39;annotation&#39;)),</span>
<span class="go">                    arg(arg=&#39;b&#39;),</span>
<span class="go">                    arg(arg=&#39;c&#39;)],</span>
<span class="go">                vararg=arg(arg=&#39;d&#39;),</span>
<span class="go">                kwonlyargs=[</span>
<span class="go">                    arg(arg=&#39;e&#39;),</span>
<span class="go">                    arg(arg=&#39;f&#39;)],</span>
<span class="go">                kw_defaults=[</span>
<span class="go">                    None,</span>
<span class="go">                    Constant(value=3)],</span>
<span class="go">                kwarg=arg(arg=&#39;g&#39;),</span>
<span class="go">                defaults=[</span>
<span class="go">                    Constant(value=1),</span>
<span class="go">                    Constant(value=2)]),</span>
<span class="go">            body=[</span>
<span class="go">                Pass()],</span>
<span class="go">            decorator_list=[</span>
<span class="go">                Name(id=&#39;decorator1&#39;, ctx=Load()),</span>
<span class="go">                Name(id=&#39;decorator2&#39;, ctx=Load())],</span>
<span class="go">            returns=Constant(value=&#39;return annotation&#39;),</span>
<span class="go">            type_params=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Return">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Return</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Return" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">return</span></code> 陳述式。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;return 4&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Return(</span>
<span class="go">            value=Constant(value=4))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Yield">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Yield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Yield" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.YieldFrom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">YieldFrom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.YieldFrom" title="連結到這個定義">¶</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">yield</span></code> or <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code> expression. Because these are expressions, they
must be wrapped in an <a class="reference internal" href="#ast.Expr" title="ast.Expr"><code class="xref py py-class docutils literal notranslate"><span class="pre">Expr</span></code></a> node if the value sent back is not used.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;yield x&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=Yield(</span>
<span class="go">                value=Name(id=&#39;x&#39;, ctx=Load())))],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;yield from x&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Expr(</span>
<span class="go">            value=YieldFrom(</span>
<span class="go">                value=Name(id=&#39;x&#39;, ctx=Load())))],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Global">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Global</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Global" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.Nonlocal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Nonlocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Nonlocal" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">global</span></code> 和 <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> 陳述式。<code class="docutils literal notranslate"><span class="pre">names</span></code> 是原始字串的串列。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;global x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Global(</span>
<span class="go">            names=[</span>
<span class="go">                &#39;x&#39;,</span>
<span class="go">                &#39;y&#39;,</span>
<span class="go">                &#39;z&#39;])],</span>
<span class="go">    type_ignores=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;nonlocal x,y,z&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        Nonlocal(</span>
<span class="go">            names=[</span>
<span class="go">                &#39;x&#39;,</span>
<span class="go">                &#39;y&#39;,</span>
<span class="go">                &#39;z&#39;])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.ClassDef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">ClassDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorator_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.ClassDef" title="連結到這個定義">¶</a></dt>
<dd><p>一個類別定義。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> 是類別名的原始字串</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bases</span></code> 是被顯式指定的基底類別節點串列。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keywords</span></code> 是一個 <a class="reference internal" href="#ast.keyword" title="ast.keyword"><code class="xref py py-class docutils literal notranslate"><span class="pre">keyword</span></code></a> 節點的串列，主要用於 'metaclass'（元類別）。如 <a class="reference external" href="https://peps.python.org/pep-3115/">PEP-3115</a> 所述，其他關鍵字將被傳遞到 metaclass。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">body</span></code> 是表示類別定義中程式碼的節點串列。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">decorator_list</span></code> 是一個節點串列，如 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a> 中所示。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_params</span></code> 是<a class="reference internal" href="#ast-type-params"><span class="std std-ref">型別參數</span></a>的串列。</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">@decorator1</span>
<span class="gp">... </span><span class="s2">@decorator2</span>
<span class="gp">... </span><span class="s2">class Foo(base1, base2, metaclass=meta):</span>
<span class="gp">... </span><span class="s2">    pass</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        ClassDef(</span>
<span class="go">            name=&#39;Foo&#39;,</span>
<span class="go">            bases=[</span>
<span class="go">                Name(id=&#39;base1&#39;, ctx=Load()),</span>
<span class="go">                Name(id=&#39;base2&#39;, ctx=Load())],</span>
<span class="go">            keywords=[</span>
<span class="go">                keyword(</span>
<span class="go">                    arg=&#39;metaclass&#39;,</span>
<span class="go">                    value=Name(id=&#39;meta&#39;, ctx=Load()))],</span>
<span class="go">            body=[</span>
<span class="go">                Pass()],</span>
<span class="go">            decorator_list=[</span>
<span class="go">                Name(id=&#39;decorator1&#39;, ctx=Load()),</span>
<span class="go">                Name(id=&#39;decorator2&#39;, ctx=Load())],</span>
<span class="go">            type_params=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.12 版的變更: </span>新增了 <code class="docutils literal notranslate"><span class="pre">type_params</span></code>。</p>
</div>
</dd></dl>

</section>
<section id="async-and-await">
<h3>async 和 await<a class="headerlink" href="#async-and-await" title="連結到這個標頭">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ast.AsyncFunctionDef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AsyncFunctionDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorator_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AsyncFunctionDef" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code> 函式定義。與 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a> 具有相同的欄位。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.12 版的變更: </span>新增了 <code class="docutils literal notranslate"><span class="pre">type_params</span></code>。</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.Await">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">Await</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.Await" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <code class="docutils literal notranslate"><span class="pre">await</span></code> 運算式。<code class="docutils literal notranslate"><span class="pre">value</span></code> 是它等待的東西。僅在 <a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a> 主體 (body) 中有效。</p>
</dd></dl>

<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="gp">... </span><span class="s2">async def f():</span>
<span class="gp">... </span><span class="s2">    await other_func()</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">    body=[</span>
<span class="go">        AsyncFunctionDef(</span>
<span class="go">            name=&#39;f&#39;,</span>
<span class="go">            args=arguments(</span>
<span class="go">                posonlyargs=[],</span>
<span class="go">                args=[],</span>
<span class="go">                kwonlyargs=[],</span>
<span class="go">                kw_defaults=[],</span>
<span class="go">                defaults=[]),</span>
<span class="go">            body=[</span>
<span class="go">                Expr(</span>
<span class="go">                    value=Await(</span>
<span class="go">                        value=Call(</span>
<span class="go">                            func=Name(id=&#39;other_func&#39;, ctx=Load()),</span>
<span class="go">                            args=[],</span>
<span class="go">                            keywords=[])))],</span>
<span class="go">            decorator_list=[],</span>
<span class="go">            type_params=[])],</span>
<span class="go">    type_ignores=[])</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="ast.AsyncFor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AsyncFor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orelse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AsyncFor" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object py" id="ast.AsyncWith">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">AsyncWith</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.AsyncWith" title="連結到這個定義">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> 迴圈和 <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code> 情境管理器。它們分別具有與 <a class="reference internal" href="#ast.For" title="ast.For"><code class="xref py py-class docutils literal notranslate"><span class="pre">For</span></code></a> 和 <a class="reference internal" href="#ast.With" title="ast.With"><code class="xref py py-class docutils literal notranslate"><span class="pre">With</span></code></a> 相同的欄位。僅在 <a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a> 主體中有效。</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">備註</p>
<p>當字串被 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 剖析時，回傳樹的運算子節點（<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.operator</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.unaryop</span></code>、<code class="xref py py-class docutils literal notranslate"><span class="pre">ast.cmpop</span></code>、:class: <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.boolop</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">ast.expr_context</span></code>）將是單例。對其中之一的更改將反映在所有其他出現的相同值中（例如 <a class="reference internal" href="#ast.Add" title="ast.Add"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Add</span></code></a>）。</p>
</div>
</section>
</section>
<section id="ast-helpers">
<h2><a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 輔助程式<a class="headerlink" href="#ast-helpers" title="連結到這個標頭">¶</a></h2>
<p>除了節點類別之外，<a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 模組還定義了這些用於遍歷 (traverse) 抽象語法樹的實用函式和類別：</p>
<dl class="py function">
<dt class="sig sig-object py" id="ast.parse">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&lt;unknown&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exec'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.parse" title="連結到這個定義">¶</a></dt>
<dd><p>將原始碼剖析為 AST 節點。相當於 <code class="docutils literal notranslate"><span class="pre">compile(source,</span> <span class="pre">filename,</span> <span class="pre">mode,</span> <span class="pre">ast.PyCF_ONLY_AST)</span></code>。</p>
<p>如果給定 <code class="docutils literal notranslate"><span class="pre">type_comments=True</span></code>，剖析器將被修改為檢查並回傳 <span class="target" id="index-15"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> 和 <span class="target" id="index-16"></span><a class="pep reference external" href="https://peps.python.org/pep-0526/"><strong>PEP 526</strong></a> 指定的型別註釋。這相當於將 <a class="reference internal" href="#ast.PyCF_TYPE_COMMENTS" title="ast.PyCF_TYPE_COMMENTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ast.PyCF_TYPE_COMMENTS</span></code></a> 新增到傳遞給 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 的旗標中。這將報告錯誤型別註釋的語法錯誤。如果沒有此旗標，型別註釋將被忽略，並且所選 AST 節點上的 <code class="docutils literal notranslate"><span class="pre">type_comment</span></code> 欄位將始終為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。此外，<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> 註釋的位置將作為 <a class="reference internal" href="#ast.Module" title="ast.Module"><code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">type_ignores</span></code> 屬性回傳（否則它始終是一個空串列）。</p>
<p>此外，如果 <code class="docutils literal notranslate"><span class="pre">mode</span></code> 是 <code class="docutils literal notranslate"><span class="pre">'func_type'</span></code>，則輸入語法將會依據 <span class="target" id="index-17"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a>「簽名型別註解 (signature type comments)」而被修改，例如 <code class="docutils literal notranslate"><span class="pre">(str,</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">List[str]</span></code>。</p>
<p>將 <code class="docutils literal notranslate"><span class="pre">feature_version</span></code> 設定為元組 <code class="docutils literal notranslate"><span class="pre">(major,</span> <span class="pre">minor)</span></code> 將「盡可能」嘗試使用該 Python 版本的文法進行剖析。當前 <code class="docutils literal notranslate"><span class="pre">major</span></code> 必須等於 <code class="docutils literal notranslate"><span class="pre">3</span></code>。例如，設定 <code class="docutils literal notranslate"><span class="pre">feature_version=(3,</span> <span class="pre">4)</span></code> 將嘗試禁止剖析 <a class="reference internal" href="../reference/compound_stmts.html#match"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">match</span></code></a> 陳述式。目前 <code class="docutils literal notranslate"><span class="pre">major</span></code> 必須為 <code class="docutils literal notranslate"><span class="pre">3</span></code>、支援的最低版本為 <code class="docutils literal notranslate"><span class="pre">(3,</span> <span class="pre">4)</span></code>（這在未來的 Python 版本中可能會增加）；最高的是 <code class="docutils literal notranslate"><span class="pre">sys.version_info[0:2]</span></code>。「盡可能」嘗試意味著不能保證剖析（或剖析的成功）與在與 <code class="docutils literal notranslate"><span class="pre">feature_version</span></code> 對應的 Python 版本上運行時相同。</p>
<p>如果來源包含 null 字元 (<code class="docutils literal notranslate"><span class="pre">\0</span></code>)，則會引發 <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>請注意，成功將原始碼剖析為 AST 物件並不能保證提供的原始碼是可以執行的有效 Python 程式碼，因為編譯步驟可能會引發進一步的 <a class="reference internal" href="exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> 例外。例如，原始的 <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">42</span></code> 為 return 陳述式生成一個有效的 AST 節點，但它不能單獨編譯（它需要位於函式節點內）。</p>
<p>特別是 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 不會執行任何範圍檢查，而編譯步驟才會執行此操作。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>由於 Python AST 編譯器中的堆疊 (stack) 深度限制，太大或太複雜的字串可能會導致 Python 直譯器崩潰。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.8 版的變更: </span>新增 <code class="docutils literal notranslate"><span class="pre">type_comments</span></code>、<code class="docutils literal notranslate"><span class="pre">mode='func_type'</span></code> 與 <code class="docutils literal notranslate"><span class="pre">feature_version</span></code>。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.unparse">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">unparse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ast_obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.unparse" title="連結到這個定義">¶</a></dt>
<dd><p>反剖析 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a> 物件並生成一個帶有程式碼的字串，如果使用 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> 剖析回來，該程式碼將生成等效的 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a> 物件。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>生成的程式碼字串不一定等於生成 <a class="reference internal" href="#ast.AST" title="ast.AST"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.AST</span></code></a> 物件的原始程式碼（沒有任何編譯器最佳化，例如常數元組/凍結集合）。</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>嘗試剖析高度複雜的運算式會導致 <a class="reference internal" href="exceptions.html#RecursionError" title="RecursionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RecursionError</span></code></a>。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">在 3.9 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.literal_eval">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">literal_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_or_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.literal_eval" title="連結到這個定義">¶</a></dt>
<dd><p>為僅包含 Python 文本或容器之顯示的運算式節點或字串來求值。提供的字串或節點只能包含以下 Python 文本結構：字串、位元組、數字、元組、串列、字典、集合、布林值、<code class="docutils literal notranslate"><span class="pre">None</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code>。</p>
<p>這可用於為包含 Python 值的字串求值，而無需自己剖析這些值。它無法計算任意複雜的運算式，例如涉及運算子或索引。</p>
<p>該函式過去被記錄為「安全」，但沒有定義其含義，這有點誤導讀者，它是特別設計為不去執行 Python 程式碼，與更通用的 <a class="reference internal" href="functions.html#eval" title="eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a> 不同。沒有命名空間、沒有名稱查找、也沒有呼叫的能力。但它也不能免受攻擊：相對較小的輸入可能會導致記憶體耗盡或 C 堆疊耗盡，從而導致行程崩潰。某些輸入也可能會出現 CPU 消耗過多而導致拒絕服務的情況。因此不建議在不受信任的資料上呼叫它。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>由於 Python AST 編譯器的堆疊深度限制，Python 直譯器可能會崩潰。</p>
<p>它可能會引發 <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>、<a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>、<a class="reference internal" href="exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>、<a class="reference internal" href="exceptions.html#MemoryError" title="MemoryError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">MemoryError</span></code></a> 和 <a class="reference internal" href="exceptions.html#RecursionError" title="RecursionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RecursionError</span></code></a>，具體取決於格式錯誤的輸入。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.2 版的變更: </span>現在允許位元組和集合文本 (set literal)。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.9 版的變更: </span>現在支援使用 <code class="docutils literal notranslate"><span class="pre">'set()'</span></code> 建立空集合。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.10 版的變更: </span>對於字串輸入，前導空格和定位字元 (tab) 現在已被去除。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.get_docstring">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">get_docstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.get_docstring" title="連結到這個定義">¶</a></dt>
<dd><p>回傳給定 <em>node</em> 的文件字串 (docstring)（必須是 <a class="reference internal" href="#ast.FunctionDef" title="ast.FunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionDef</span></code></a>、<a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a>、<a class="reference internal" href="#ast.ClassDef" title="ast.ClassDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassDef</span></code></a> 或 <a class="reference internal" href="#ast.Module" title="ast.Module"><code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code></a> 節點）或如果它沒有文件字串則為 <code class="docutils literal notranslate"><span class="pre">None</span></code>。如果 <em>clean</em> 為 true，則使用 <a class="reference internal" href="inspect.html#inspect.cleandoc" title="inspect.cleandoc"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.cleandoc()</span></code></a> 清理文件字串的縮排。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.5 版的變更: </span>目前已支援 <a class="reference internal" href="#ast.AsyncFunctionDef" title="ast.AsyncFunctionDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncFunctionDef</span></code></a>。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.get_source_segment">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">get_source_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.get_source_segment" title="連結到這個定義">¶</a></dt>
<dd><p>獲取生成 <em>node</em> 的 <em>source</em> 的原始碼片段。如果某些位置資訊（<a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a>、<a class="reference internal" href="#ast.AST.end_lineno" title="ast.AST.end_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code></a>、<a class="reference internal" href="#ast.AST.col_offset" title="ast.AST.col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code></a> 或 <a class="reference internal" href="#ast.AST.end_col_offset" title="ast.AST.end_col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_col_offset</span></code></a>）遺漏，則回傳 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<p>如果 <em>padded</em> 為 <code class="docutils literal notranslate"><span class="pre">True</span></code>，則多列陳述式的第一列將用空格填充 (padded) 以匹配其原始位置。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.8 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.fix_missing_locations">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">fix_missing_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.fix_missing_locations" title="連結到這個定義">¶</a></dt>
<dd><p>當你使用 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 編譯節點樹時，對於每個有支援 <a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a> 和 <a class="reference internal" href="#ast.AST.col_offset" title="ast.AST.col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code></a> 屬性之節點，編譯器預期他們的這些屬性都要存在。填入生成的節點相當繁瑣，因此該輔助工具透過將這些屬性設定為父節點的值，在尚未設定的地方遞迴地新增這些屬性。它從 <em>node</em> 開始遞迴地作用。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.increment_lineno">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">increment_lineno</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.increment_lineno" title="連結到這個定義">¶</a></dt>
<dd><p>將樹中從 <em>node</em> 開始的每個節點的列號和結束列號增加 <em>n</em>。這對於「移動程式碼」到檔案中的不同位置很有用。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.copy_location">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">copy_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.copy_location" title="連結到這個定義">¶</a></dt>
<dd><p>如果可行，將原始位置（<a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a>、<a class="reference internal" href="#ast.AST.col_offset" title="ast.AST.col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">col_offset</span></code></a>、<a class="reference internal" href="#ast.AST.end_lineno" title="ast.AST.end_lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_lineno</span></code></a> 和 <a class="reference internal" href="#ast.AST.end_col_offset" title="ast.AST.end_col_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">end_col_offset</span></code></a> ）從 <em>old_node</em> 複製到 <em>new_node</em>，並回傳 <em>new_node</em> 。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.iter_fields">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">iter_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.iter_fields" title="連結到這個定義">¶</a></dt>
<dd><p>為 <em>node</em> 上存在的 <code class="docutils literal notranslate"><span class="pre">node._fields</span></code> 中的每個欄位生成一個 <code class="docutils literal notranslate"><span class="pre">(fieldname,</span> <span class="pre">value)</span></code> 元組。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.iter_child_nodes">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">iter_child_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.iter_child_nodes" title="連結到這個定義">¶</a></dt>
<dd><p>生成 <em>node</em> 的所有直接子節點，即作為節點的所有欄位以及作為節點串列欄位的所有項目。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.walk">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">walk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.walk" title="連結到這個定義">¶</a></dt>
<dd><p>遞迴地生成樹中從 <em>node</em> 開始的所有後代節點（包括 <em>node</em> 本身），不按指定順序。如果你只想就地修改節點而不關心情境，這非常有用。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.NodeVisitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NodeVisitor</span></span><a class="headerlink" href="#ast.NodeVisitor" title="連結到這個定義">¶</a></dt>
<dd><p>節點訪問者基底類別，它遍歷抽象語法樹並為找到的每個節點呼叫訪問者函式。該函式可能會回傳一個由 <a class="reference internal" href="#ast.NodeVisitor.visit" title="ast.NodeVisitor.visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit()</span></code></a> 方法轉發的值。</p>
<p>這個類別應該被子類別化，子類別新增訪問者方法。</p>
<dl class="py method">
<dt class="sig sig-object py" id="ast.NodeVisitor.visit">
<span class="sig-name descname"><span class="pre">visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.NodeVisitor.visit" title="連結到這個定義">¶</a></dt>
<dd><p>訪問一個節點。預設實作呼叫名為 <code class="samp docutils literal notranslate"><span class="pre">self.visit_</span><em><span class="pre">classname</span></em></code> 的方法，其中 <em>classname</em> 是節點類別的名稱，或者在該方法不存在時呼叫 <a class="reference internal" href="#ast.NodeVisitor.generic_visit" title="ast.NodeVisitor.generic_visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generic_visit()</span></code></a>。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ast.NodeVisitor.generic_visit">
<span class="sig-name descname"><span class="pre">generic_visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.NodeVisitor.generic_visit" title="連結到這個定義">¶</a></dt>
<dd><p>該訪問者對該節點的所有子節點呼叫 <a class="reference internal" href="#ast.NodeVisitor.visit" title="ast.NodeVisitor.visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit()</span></code></a>。</p>
<p>請注意，除非訪問者呼叫 <a class="reference internal" href="#ast.NodeVisitor.generic_visit" title="ast.NodeVisitor.generic_visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generic_visit()</span></code></a> 或訪問它們本身，否則不會訪問具有自定義訪問者方法的節點之子節點。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ast.NodeVisitor.visit_Constant">
<span class="sig-name descname"><span class="pre">visit_Constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.NodeVisitor.visit_Constant" title="連結到這個定義">¶</a></dt>
<dd><p>處理所有常數節點。</p>
</dd></dl>

<p>如果你想在遍歷期間將變更應用 (apply) 於節點，請不要使用 <a class="reference internal" href="#ast.NodeVisitor" title="ast.NodeVisitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeVisitor</span></code></a>。為此，有個允許修改的特殊遍歷訪問者工具 <a class="reference internal" href="#ast.NodeTransformer" title="ast.NodeTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a>。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">在 3.8 版之後被棄用: </span><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Num()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Str()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Bytes()</span></code>、<code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_NameConstant()</span></code> 和 <code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Ellipsis()</span></code> 方法現已棄用，並且不會在未來的Python 版本中被呼叫。新增 <a class="reference internal" href="#ast.NodeVisitor.visit_Constant" title="ast.NodeVisitor.visit_Constant"><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Constant()</span></code></a> 方法來處理所有常數節點。</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ast.NodeTransformer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">NodeTransformer</span></span><a class="headerlink" href="#ast.NodeTransformer" title="連結到這個定義">¶</a></dt>
<dd><p>一個 <a class="reference internal" href="#ast.NodeVisitor" title="ast.NodeVisitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeVisitor</span></code></a> 子類別，它會遍歷抽象語法樹並允許修改節點。</p>
<p><a class="reference internal" href="#ast.NodeTransformer" title="ast.NodeTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a> 將遍歷 AST 並使用訪問者方法的回傳值來替換或刪除舊節點。如果訪問者方法的回傳值為 <code class="docutils literal notranslate"><span class="pre">None</span></code>，則該節點將從其位置中刪除，否則將被替換為回傳值。回傳值可能是原始節點，在這種情況下不會發生替換。</p>
<p>下面是一個示範用的 transformer，它將查找所有出現名稱 (<code class="docutils literal notranslate"><span class="pre">foo</span></code>) 並改寫為 <code class="docutils literal notranslate"><span class="pre">data['foo']</span></code>：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RewriteName</span><span class="p">(</span><span class="n">NodeTransformer</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">visit_Name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Subscript</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">()),</span>
            <span class="nb">slice</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="n">ctx</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">ctx</span>
        <span class="p">)</span>
</pre></div>
</div>
<p>請記住，如果你正在操作的節點有子節點，你必須自己轉換子節點或先呼叫該節點的 <a class="reference internal" href="#ast.NodeVisitor.generic_visit" title="ast.NodeVisitor.generic_visit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generic_visit()</span></code></a> 方法。</p>
<p>對於屬於陳述式總集 (collection) 一部分的節點（適用於所有陳述式節點），訪問者還可以回傳節點串列，而不僅僅是單個節點。</p>
<p>如果 <a class="reference internal" href="#ast.NodeTransformer" title="ast.NodeTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeTransformer</span></code></a> 引進了新節點（不屬於原始樹的一部分），但沒有給它們提供位置資訊（例如 <a class="reference internal" href="#ast.AST.lineno" title="ast.AST.lineno"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lineno</span></code></a>），則應使用新的子樹呼叫 <a class="reference internal" href="#ast.fix_missing_locations" title="ast.fix_missing_locations"><code class="xref py py-func docutils literal notranslate"><span class="pre">fix_missing_locations()</span></code></a> 以重新計算位置資訊：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="n">new_tree</span> <span class="o">=</span> <span class="n">fix_missing_locations</span><span class="p">(</span><span class="n">RewriteName</span><span class="p">()</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
</pre></div>
</div>
<p>你通常會像這樣使用 transformer：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">YourTransformer</span><span class="p">()</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ast.dump">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotate_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ast.dump" title="連結到這個定義">¶</a></dt>
<dd><p>回傳 <em>node</em> 中樹的格式化傾印 (formatted dump)，這主要用於除錯。如果 <em>annotate_fields</em> 為 true（為預設值），則回傳的字串將顯示欄位的名稱和值。如果 <em>annotate_fields</em> 為 false，則透過省略明確的欄位名稱，結果字串將更加縮減簡潔。預設情況下，不會傾印列號和行偏移量等屬性。如果需要，可以設定 <em>include_attributes</em> 為 true。</p>
<p>如果 <em>indent</em> 是非負整數或字串，那麼樹將使用該縮排級別來做漂亮印出 (pretty-print)。縮排級別 0、負數或 <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> 只會插入換列符號 (newlines)。<code class="docutils literal notranslate"><span class="pre">None</span></code>（預設值）代表選擇單列表示。使用正整數縮排可以在每個級別縮排相同數量的空格。如果 <em>indent</em> 是一個字串（例如 <code class="docutils literal notranslate"><span class="pre">&quot;\t&quot;</span></code>），則該字串用於縮排每個級別。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.9 版的變更: </span>新增 <em>indent</em> 選項。</p>
</div>
</dd></dl>

</section>
<section id="compiler-flags">
<span id="ast-compiler-flags"></span><h2>編譯器旗標<a class="headerlink" href="#compiler-flags" title="連結到這個標頭">¶</a></h2>
<p>可以將以下旗標傳遞給 <a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 以變更對程式的編譯效果：</p>
<dl class="py data">
<dt class="sig sig-object py" id="ast.PyCF_ALLOW_TOP_LEVEL_AWAIT">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">PyCF_ALLOW_TOP_LEVEL_AWAIT</span></span><a class="headerlink" href="#ast.PyCF_ALLOW_TOP_LEVEL_AWAIT" title="連結到這個定義">¶</a></dt>
<dd><p>啟用對最高階 <code class="docutils literal notranslate"><span class="pre">await</span></code>、<code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code>、<code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code> 和非同步綜合運算的支援。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.8 版被加入.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ast.PyCF_ONLY_AST">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">PyCF_ONLY_AST</span></span><a class="headerlink" href="#ast.PyCF_ONLY_AST" title="連結到這個定義">¶</a></dt>
<dd><p>生成並回傳抽象語法樹，而不是回傳已編譯的程式碼物件。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="ast.PyCF_TYPE_COMMENTS">
<span class="sig-prename descclassname"><span class="pre">ast.</span></span><span class="sig-name descname"><span class="pre">PyCF_TYPE_COMMENTS</span></span><a class="headerlink" href="#ast.PyCF_TYPE_COMMENTS" title="連結到這個定義">¶</a></dt>
<dd><p>啟用對 <span class="target" id="index-18"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> 和 <span class="target" id="index-19"></span><a class="pep reference external" href="https://peps.python.org/pep-0526/"><strong>PEP 526</strong></a> 樣式型別註釋的支援 (<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">&lt;type&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span> <span class="pre">&lt;stuff&gt;</span></code>)。</p>
<div class="versionadded">
<p><span class="versionmodified added">在 3.8 版被加入.</span></p>
</div>
</dd></dl>

</section>
<section id="command-line-usage">
<span id="ast-cli"></span><h2>命令列用法<a class="headerlink" href="#command-line-usage" title="連結到這個標頭">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">在 3.9 版被加入.</span></p>
</div>
<p><a class="reference internal" href="#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> 模組可以作為腳本從命令列執行，可以像這樣簡單地做到：</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>ast<span class="w"> </span><span class="o">[</span>-m<span class="w"> </span>&lt;mode&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-a<span class="o">]</span><span class="w"> </span><span class="o">[</span>infile<span class="o">]</span>
</pre></div>
</div>
<p>以下選項可被接受：</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ast-h">
<span id="cmdoption-ast-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ast-h" title="連結到這個定義">¶</a></dt>
<dd><p>顯示幫助訊息並退出。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ast-m">
<span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;mode&gt;</span></span><a class="headerlink" href="#cmdoption-ast-m" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-ast-mode">
<span class="sig-name descname"><span class="pre">--mode</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;mode&gt;</span></span><a class="headerlink" href="#cmdoption-ast-mode" title="連結到這個定義">¶</a></dt>
<dd><p>指定必須編譯哪種類型的程式碼，像是 <a class="reference internal" href="#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a> 中的 <em>mode</em> 引數。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ast-no-type-comments">
<span class="sig-name descname"><span class="pre">--no-type-comments</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ast-no-type-comments" title="連結到這個定義">¶</a></dt>
<dd><p>不要剖析型別註解。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ast-a">
<span id="cmdoption-ast-include-attributes"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--include-attributes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ast-a" title="連結到這個定義">¶</a></dt>
<dd><p>包括列號和行偏移量等屬性。</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ast-i">
<span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;indent&gt;</span></span><a class="headerlink" href="#cmdoption-ast-i" title="連結到這個定義">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-ast-indent">
<span class="sig-name descname"><span class="pre">--indent</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;indent&gt;</span></span><a class="headerlink" href="#cmdoption-ast-indent" title="連結到這個定義">¶</a></dt>
<dd><p>AST 中節點的縮進（空格數）。</p>
</dd></dl>

<p>如果指定了 <code class="file docutils literal notranslate"><span class="pre">infile</span></code>，則其內容將被剖析為 AST 並傾印 (dump) 到 stdout。否則會從 stdin 讀取內容。</p>
<div class="admonition seealso">
<p class="admonition-title">也參考</p>
<p><a class="reference external" href="https://greentreesnakes.readthedocs.io/">Green Tree Snakes</a> 是一個外部文件資源，提供了有關使用 Python AST 的詳細資訊。</p>
<p><a class="reference external" href="https://asttokens.readthedocs.io/en/latest/user-guide.html">ASTTokens</a> 使用生成它們的原始碼中的標記和文本的位置來註釋 Python AST。這對於進行原始碼轉換的工具很有幫助。</p>
<p><a class="reference external" href="https://leo-editor.github.io/leo-editor/appendices.html#leoast-py">leoAst.py</a> 透過在 token 和 ast 節點之間插入雙向鏈結，統一了 python 程式的基於 token 和基於剖析樹的視圖。</p>
<p><a class="reference external" href="https://libcst.readthedocs.io/">LibCST</a> 將程式碼剖析為具體語法樹 (Concrete Syntax Tree)，看起來像 ast 樹並保留所有格式詳細資訊。它對於建置自動重構 (codemod) 應用程式和 linter 非常有用。</p>
<p><a class="reference external" href="https://parso.readthedocs.io">Parso</a> 是一個 Python 剖析器，支援不同 Python 版本的錯誤復原和往返剖析。Parso 還能夠列出 Python 檔案中的多個語法錯誤。</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目錄</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象語法樹 (Abstract Syntax Trees)</a><ul>
<li><a class="reference internal" href="#abstract-grammar">抽象文法 (Abstract Grammar)</a></li>
<li><a class="reference internal" href="#node-classes">節點 (Node) 類別</a><ul>
<li><a class="reference internal" href="#root-nodes">根節點</a></li>
<li><a class="reference internal" href="#literals">文本 (Literals)</a></li>
<li><a class="reference internal" href="#variables">變數</a></li>
<li><a class="reference internal" href="#expressions">運算式</a><ul>
<li><a class="reference internal" href="#subscripting">下標 (Subscripting)</a></li>
<li><a class="reference internal" href="#comprehensions">綜合運算式 (comprehensions)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#statements">陳述式</a><ul>
<li><a class="reference internal" href="#imports">引入 (imports)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#control-flow">流程控制</a></li>
<li><a class="reference internal" href="#pattern-matching">模式匹配 (pattern matching)</a></li>
<li><a class="reference internal" href="#type-parameters">型別參數 (type parameters)</a></li>
<li><a class="reference internal" href="#function-and-class-definitions">函式和類別定義</a></li>
<li><a class="reference internal" href="#async-and-await">async 和 await</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ast-helpers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> 輔助程式</a></li>
<li><a class="reference internal" href="#compiler-flags">編譯器旗標</a></li>
<li><a class="reference internal" href="#command-line-usage">命令列用法</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上個主題</h4>
    <p class="topless"><a href="language.html"
                          title="上一章">Python 語言服務</a></p>
  </div>
  <div>
    <h4>下個主題</h4>
    <p class="topless"><a href="symtable.html"
                          title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">symtable</span></code> --- 存取編譯器的符號表</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>此頁面</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">回報錯誤</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/ast.rst"
            rel="nofollow">顯示原始碼
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="收合側邊欄">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="總索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模組索引"
             >模組</a> |</li>
        <li class="right" >
          <a href="symtable.html" title="symtable --- 存取編譯器的符號表"
             >下一頁</a> |</li>
        <li class="right" >
          <a href="language.html" title="Python 語言服務"
             >上一頁</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.5 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準函式庫 (Standard Library)</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="language.html" >Python 語言服務</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code> --- 抽象語法樹 (Abstract Syntax Trees)</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜尋" aria-label="快速搜尋" type="search" name="q" id="search-box" />
          <input type="submit" value="前往" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; 
      <a href="../copyright.html">
    
    版權
    
      </a>
     2001-2024, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    
      See <a href="/license.html">History and License</a> for more information.<br />
    
    
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />
      最後更新於 Aug 14, 2024 (09:27 UTC)。
    
      <a href="/bugs.html">Found a bug</a>?
    
    <br />

    使用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2 建立。
    </div>

  </body>
</html>